<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <title>C++20 Calender and timezoneÂ library - roki.log</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" />
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../../../../../theme/style.css" rel="stylesheet" />
    <link rel="shortcut icon" href="../../../../../favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/solid.css" integrity="sha384-TbilV5Lbhlwdyc4RuIV/JhD8NR+BfMrvz4BL5QFa2we1hQu6wvREr3v6XSRfCTRp" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/brands.css" integrity="sha384-7xAnn7Zm3QC1jFjVc1A6v/toepoG3JXboQYzbM0jrPzou9OFXm/fY6Z/XiIebl/k" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/fontawesome.css" integrity="sha384-ozJwkrqb90Oa3ZNb+yKFW2lToAWYdTiF1vt8JiH5ptTGHTGcN7qdoR1F95e0kYyG" crossorigin="anonymous">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="../../../../../theme/js/css_browser_selector.js" type="text/javascript"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="roki" />
        <link href="../../../../../theme/tipuesearch/tipuesearch.css" rel="stylesheet">
        <link href="../../../../../theme/typogrify.css" rel="stylesheet">
    <link href="https://falgon.github.io/roki.log/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="roki.log Full Atom Feed" />
    <link href="https://falgon.github.io/roki.log/feeds/cpp.rss.xml" type="application/atom+xml" rel="alternate" title="roki.log Categories Atom Feed" />

  </head>
  <body id="index" class="archive" style="font-family: 'æ¸¸æ˜æœ', 'Yu Mincho' , 'æ¸¸æ˜æœä½“' , 'YuMincho' , 'ãƒ’ãƒ©ã‚®ãƒæ˜æœ Pro W3' , 'Hiragino Mincho Pro' , 'HiraMinProN-W3', 'HGSæ˜æœE' , 'ï¼­ï¼³ ï¼°æ˜æœ' , 'MS PMincho', serif;">
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

<div class="modal fade" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">ğŸ‘‹New blog information / ãƒ–ãƒ­ã‚°ç§»è»¢ã®ãŠçŸ¥ã‚‰ã›</h4>
      </div>
      <div class="modal-body">
      This blog has been moved to <a href="https://roki.dev/roki.log">new one (roki.dev/roki.log)</a> for 
      serving you better view. This blog is no longer updated.
      Thank you for migrating and re-registering your bookmarks.
      <hr >
      ã“ã®ãƒ–ãƒ­ã‚°ã¯, 
      <a href="https://roki.dev/roki.log">æ–°ãƒ–ãƒ­ã‚° (roki.dev/roki.log)</a> 
      ã«ç§»è»¢ã—ã¾ã—ãŸã€‚ã“ã®ãƒšãƒ¼ã‚¸ã®ä»Šå¾Œã®æ›´æ–°ã¯ã‚ã‚Šã¾ã›ã‚“ãŒ,
      ç§»è¡Œç”¨, è¨˜éŒ²ç”¨ã«æ®‹ã•ã‚Œã¦ã„ã¾ã™ã€‚
      ã‚‚ã—å®œã—ã‘ã‚Œã°, ç§»è¡Œ, ã¾ãŸã¯ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã®å†ç™»éŒ²ã‚’ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">é–‰ã˜ã‚‹</button>
       </div>
    </div>
  </div>
</div>

    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../../../..">roki.log</a>
        </div>
        <div class="collapse navbar-collapse navbar-right">
          <ul class="nav navbar-nav">
            <li>
                    <a href="../../../../../pages/about"><i class="fas fa-info-circle" style="margin-right: 4px;"></i>About</a>
            </li>
            <li>
            </li>
            
            <li><a href="../../../../../tags.html"><i class="fas fa-tags" style="margin-right: 4px;"></i>Tags</a></li>
            <li><span>
                <form class="navbar-search" action="https://falgon.github.io/roki.log/search.html">
                    <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" required>
                </form></span>
            </li>
          </ul>
        </div>
        <!-- /.navbar-collapse -->
      </div>
    </nav>
    <div class="container">
    <section id="content" class="article content">
      <header>
        <h2 class="entry-title">
          C++20 Calender and timezone&nbsp;library
        </h2>
        
        <div class="text-muted">æœˆ 26 3æœˆ 2018</div>
      </header>
<!-- .entry-content -->
      <div class="entry-content">
        <p><strong>[<i>2018/4/16 è¿½è¨˜</i>:</strong> æœ¬ã‚¨ãƒ³ãƒˆãƒªã¯, å…ƒã€… <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0355r5.html"><span class="caps">P0355R5</span></a> ã‚’å‚è€ƒã«ã¾ã¨ã‚ã‚’è¡Œã£ãŸè¨˜äº‹ã§ã‚ã‚‹ãŒ, ãã®å¾Œ <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0355r7.html"><span class="caps">P0355R7</span></a>&nbsp;ã§</p>
<ul>
<li><code>sun</code>ã¨ã„ã£ãŸæ›œæ—¥ã‚’è¡¨ã™ãƒªãƒ†ãƒ©ãƒ«ãŒå…¨ã¦<code>Sunday</code>, <code>may</code>ã¨ã„ã£ãŸæœˆã‚’è¡¨ã™ãƒªãƒ†ãƒ©ãƒ«ãŒå…¨ã¦<code>May</code>ã¨ã„ã£ãŸå½¢å¼ã«å¤‰æ›´ã•ã‚Œ, ã¾ãŸã“ã‚Œã‚‰ã¨<code>std::chrono::last_spec</code>å‹ã®<code>last</code><sup id="fnref-12"><a class="footnote-ref" href="#fn-12">12</a></sup>ãŒ<code>std::literals::chrono_literals</code>åå‰ç©ºé–“ä¸‹ã‹ã‚‰<code>std::chrono</code>åå‰ç©ºé–“ä¸‹ã«ç§»å‹•ã•ã‚ŒãŸ.</li>
<li><code>system_clock::to_time_t</code>ã¨<code>system_clock::from_time_t</code>ã‚’ Deprecated ã¨ã—ã¦ã„ãŸãŒ, Deprecated&nbsp;ã§ãªããªã£ãŸ.</li>
</ul>
<p>ã¨ã„ã£ãŸä»–ã«, ç´°ã‹ã„æ–‡é¢ã®æ”¹ä¿®ã‚„, <code>constexpr</code>ãŒã¤ã‘ã‚‰ã‚Œã‚‹ãªã©ã®å¤‰æ›´ãŒåŠ ãˆã‚‰ã‚ŒãŸãŸã‚, æœ¬ã‚¨ãƒ³ãƒˆãƒªã«ãŠã„ã¦ã‚‚, ãã‚Œã«å¾“ã„è©²å½“ç®‡æ‰€ã‚’æ”¹å¤‰ã—ã¦ã„ã‚‹(å·®åˆ†ã‚’ç¤ºã™ã“ã¨ã‚‚è€ƒãˆãŸãŒ, ãŸã è¦‹é›£ããªã‚‹ã‚ˆã†ã«æ„Ÿã˜ãŸãŸã‚, ãã®ã‚ˆã†ãªã“ã¨ã¯ã—ãªã‹ã£ãŸ). ã“ã‚Œã‚‰ã®å¤‰æ›´ã«ã¯å¯¾å¿œã—ãŸã¤ã‚‚ã‚Šã ãŒ, ç´°ã‹ã„å³å¯†ãªè¨˜è¿°ã«é–¢ã—ã¦ã¯, ã‚„ã¯ã‚Š P0355 ã®æœ€æ–°ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã‚’è¿½ã£ã¦ç¢ºã‹ã‚ã¦ã»ã—ã„(ãã—ã¦, é–“é•ã£ãŸç®‡æ‰€ãŒã‚ã‚Œã°æŒ‡æ‘˜ãã ã•ã‚‹ã¨å¬‰ã—ã„).
<strong><i>&#8212; è¿½è¨˜ã“ã“ã¾ã§</i>]</strong></p>
<h3>è¦æ—¨</h3>
<p>å…ˆé€±, ç±³å›½ãƒ•ãƒ­ãƒªãƒ€å·ã‚¸ãƒ£ã‚¯ã‚½ãƒ³ãƒ“ãƒ«ã§ <span class="caps">ISO</span> C++ å§”å“¡ä¼šã«ã‚ˆã£ã¦, C++æŠ€è¡“ä»•æ§˜(<span class="caps">TS</span>, å®Ÿé¨“çš„æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒ) ã¨æ¬¡ã®å›½éš›æ¨™æº–(<span class="caps">IS</span>) C++20 ã«é–¢ã™ã‚‹ä½œæ¥­ãŒè¡Œã‚ã‚ŒãŸ.
åŒä¼šè­°ã§ <a href="https://www.reddit.com/r/cpp/comments/854mu9/2018_jacksonville_iso_c_committee_reddit_trip/">Reddit ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«</a>,
C++20 ã«ã„ãã¤ã‹ã®æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚ŒãŸ. ãã®ã†ã¡ã® 1 ã¤ã§ã‚ã‚‹, <a href="https://wg21.link/P0355">Calender and timezone library</a> ã«é–¢ã™ã‚‹æ–°æ©Ÿèƒ½,&nbsp;æ¦‚è¦ã®ãƒ¡ãƒ¢.</p>
<ul>
<li>å…¨æ©Ÿèƒ½ã®ç¶²ç¾…æ€§ã‚’ä¸»è»¸ã¨ã—ãŸã‚¨ãƒ³ãƒˆãƒªã§ã¯ãªã„(ãŒ,&nbsp;ç‹¬æ–­ã¨åè¦‹ã«ã‚ˆã‚Šé‡è¦ã«æ„Ÿã˜ãŸå†…å®¹ã¯çµæœçš„ã«ç¶²ç¾…ã—ã¦ã—ã¾ã£ã¦ã„ã‚‹éƒ¨åˆ†ã‚‚ã‚ã‚‹)ãŸã‚æ³¨æ„</li>
<li>ä»¥ä¸‹, ç‰¹ã«æ–­ã‚‰ãªã„é™ã‚Š, å…¨ã¦ã®ã‚³ãƒ¼ãƒ‰ç‰‡ã«ãŠã„ã¦<code>using namespace std::chrono;</code>, <code>using namespace std::chrono_literals;</code>ãŒã•ã‚Œã¦ã„ã‚‹ã¨ã™ã‚‹.</li>
<li>ä»¥ä¸‹, ç‰¹ã«æ–­ã‚‰ãªã„é™ã‚Š, å„ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ä»¥å¤–ã§è¨€åŠã•ã‚Œã‚‹<code>å†…å®¹</code>ã¨ã„ã£ãŸè¨˜è¿°ã«ã¤ã„ã¦ã¯, åå‰ç©ºé–“ <code>std::chrono</code>ã‚’çœç•¥ã™ã‚‹.</li>
</ul>
<h3>è¨­è¨ˆ</h3>
<p>ä»¥ä¸‹ã®å†…å®¹ãŒè¿½åŠ ã•ã‚Œã‚‹.</p>
<ul>
<li><code>&lt;chrono&gt;</code>ã«å¯¾ã™ã‚‹ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãŠã‚ˆã³ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®æœ€å°é™ã®æ‹¡å¼µ</li>
<li>Proleptic Gregorian calendar(civil&nbsp;calendar)</li>
<li><a href="http://www.iana.org/time-zones"><span class="caps">IANA</span> Time Zone Database</a>&nbsp;ã‚’åŸºã«ã—ãŸã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</li>
<li>åˆ†æ•°ç§’, ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã®ç•¥èª, <span class="caps">UTC</span> ã‚ªãƒ•ã‚»ãƒƒãƒˆã®å®Œå…¨ã‚µãƒãƒ¼ãƒˆãŠã‚ˆã³<code>strftime</code>ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½</li>
<li><a href="http://www.iana.org/time-zones"><span class="caps">IANA</span> Time Zone Database</a> ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹,&nbsp;é–ç§’ã‚’è¨ˆç®—ã™ã‚‹ãŸã‚ã®è¤‡æ•°ã®ã‚¯ãƒ­ãƒƒã‚¯</li>
</ul>
<h3>ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</h3>
<p>æœ¬ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã«ã‚ˆã£ã¦, ä¾‹ãˆã° 2016&nbsp;å¹´ã‚’æ¬¡ã®ã‚ˆã†ã«è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã‚‹.</p>
<div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">y</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year</span><span class="p">{</span><span class="mi">2016</span><span class="p">};</span>
<span class="k">auto</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">2016</span><span class="n">y</span><span class="p">;</span>
</pre></div>


<p>ã“ã®ã¨ã, <code>year</code>ã¯ <i>partial-calendar-type (éƒ¨åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹)</i> ã§ã‚ã‚‹.
ä»–ã®éƒ¨åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹ã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§, <code>year_month_day</code>ãªã©ã® <i>full-calendar-type (ãƒ•ãƒ«ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹)</i> ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹.
ãƒ•ãƒ«ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹ã¯, 1 æ—¥ã®åˆ¶åº¦ã‚’æŒã¤ã‚¿ã‚¤ãƒ ãƒã‚¤ãƒ³ãƒˆã§ã‚ã‚Š, éƒ¨åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹ã§ã‚ã‚‹<code>year</code>, <code>month</code>, <code>day</code> ã§æ§‹æˆã•ã‚Œã‚‹.
ã“ã‚Œã‚‰ã‹ã‚‰<code>year_month_day</code>ãŒæ§‹ç¯‰ã•ã‚Œã‚‹ã¨, å†…éƒ¨ã§è¨ˆç®—ã¯ä¸€åˆ‡èµ·ããš, å”¯ä¸€èµ·ãã‚‹ã“ã¨ã¯, <code>year_month_day</code> ãŒå†…éƒ¨ã§ãã‚Œã‚‰ã‚’æ ¼ç´ã™ã‚‹ã¨ã„ã†ã“ã¨ã ã‘ã§ã‚ã‚‹.</p>
<div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month_day</span> <span class="n">ymd1</span><span class="p">{</span><span class="mi">2016</span><span class="n">y</span><span class="p">,</span> <span class="n">month</span><span class="p">{</span><span class="mi">5</span><span class="p">},</span> <span class="n">day</span><span class="p">{</span><span class="mi">29</span><span class="p">}};</span>
</pre></div>


<p>ã“ã®å ´åˆ, ã™ã¹ã¦ã®å…¥åŠ›ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•°ã§ã‚ã‚‹ã®ã§, <code>constexpr</code> ã«ã™ã‚‹ã“ã¨ãŒã§ãã‚‹. ã•ã‚‰ã«, <code>operator/</code>ãŒã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ãŸã‚,&nbsp;å¾“æ¥ã®æ—¥ä»˜ã®æ§‹æ–‡ãŒåˆ©ç”¨ã§ãã‚‹.</p>
<div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month_day</span> <span class="n">ymd1</span><span class="p">{</span><span class="mi">2016</span><span class="n">y</span><span class="p">,</span> <span class="n">month</span><span class="p">{</span><span class="mi">5</span><span class="p">},</span> <span class="n">day</span><span class="p">{</span><span class="mi">29</span><span class="p">}};</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">ymd2</span> <span class="o">=</span> <span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">29</span><span class="n">d</span><span class="p">;</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">ymd3</span> <span class="o">=</span> <span class="n">May</span><span class="o">/</span><span class="mi">29</span><span class="n">d</span><span class="o">/</span><span class="mi">2016</span><span class="n">y</span><span class="p">;</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">ymd4</span> <span class="o">=</span> <span class="mi">29</span><span class="n">d</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">2016</span><span class="n">y</span><span class="p">;</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">ymd1</span> <span class="o">==</span> <span class="n">ymd2</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">ymd2</span> <span class="o">==</span> <span class="n">ymd3</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">ymd3</span> <span class="o">==</span> <span class="n">ymd4</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">ymd1</span><span class="p">.</span><span class="n">year</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2016</span><span class="n">y</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">ymd1</span><span class="p">.</span><span class="n">month</span><span class="p">()</span> <span class="o">==</span> <span class="n">May</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">ymd1</span><span class="p">.</span><span class="n">day</span><span class="p">()</span> <span class="o">==</span> <span class="mi">29</span><span class="n">d</span><span class="p">);</span>
</pre></div>


<p>ã“ã“ã§, <code>May</code>ã¯æœˆã‚’è¡¨ç¾ã™ã‚‹<code>month</code>å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚Š, ä»–ã«<code>Jan</code>, <code>Feb</code>, <code>Mar</code>, <code>Apr</code>, <code>Jun</code>, <code>Jul</code>, <code>Aug</code>, <code>Sep</code>, <code>Oct</code>, <code>Nov</code>, <code>Dec</code>ãŒ,
<em onclick="obj=document.getElementById('openmonth').style; obj.display=(obj.display=='none')?'block':'none';">
<a style="font-style: normal; cursor:pointer;">æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã‚‹(ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹).</a>
</em>
<div id="openmonth" style="display:none;clear:both;"></p>
<div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span> <span class="p">{</span>

<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">January</span><span class="p">{</span><span class="mi">1</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">February</span><span class="p">{</span><span class="mi">2</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">March</span><span class="p">{</span><span class="mi">3</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">April</span><span class="p">{</span><span class="mi">4</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">May</span><span class="p">{</span><span class="mi">5</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">June</span><span class="p">{</span><span class="mi">6</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">July</span><span class="p">{</span><span class="mi">7</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">August</span><span class="p">{</span><span class="mi">8</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">September</span><span class="p">{</span><span class="mi">9</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">October</span><span class="p">{</span><span class="mi">10</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">November</span><span class="p">{</span><span class="mi">11</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">month</span> <span class="n">December</span><span class="p">{</span><span class="mi">12</span><span class="p">};</span>

<span class="p">}</span>
</pre></div>


<p></div>
ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯, ä¾‹ãˆã°ã‚¹ã‚«ãƒ©å‹ã§ç›´æ¥æ—¥ä»˜ã‚’æŒ‡å®šã™ã‚‹ã¨ã„ã£ãŸã“ã¨ã¯ãªã, æ˜ç¤ºçš„ãªå‹æŒ‡å®šã«ã‚ˆã‚‹è¡¨ç¾ã«ã‚ˆã£ã¦å®Ÿç¾ã™ã‚‹.
ãªãŠ, éƒ¨åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹(<code>year</code>, <code>month</code> ã«åŠ ãˆã¦<code>day</code>å‹)ã¯, ã™ã¹ã¦ <i>Strong ordering</i><sup id="fnref-1"><a class="footnote-ref" href="#fn-1">1</a></sup> ã‚’æº€ãŸã—,&nbsp;åŠ ãˆã¦ä»¥ä¸‹ã®ãƒ¡ãƒ³ãƒé–¢æ•°ã‚’ã‚‚ã¤.</p>
<ul>
<li>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿, <code>unsigned</code>å‹(<code>year</code>å‹ã®ã¿<code>int</code>å‹)ã®å€¤ã‚’å—ã‘ä»˜ã‘ã‚‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿</li>
<li>å„å‹ã®å˜ä½ã«ãŠã„ã¦ãã‚Œã‚’å‰å¾Œã«é€²ã‚ã‚‹,&nbsp;{å‰|å¾Œ}ç½®{ã‚¤ãƒ³|ãƒ‡}ã‚¯ãƒªãƒ¡ãƒ³ãƒˆæ¼”ç®—å­</li>
<li>å„å‹ã®å˜ä½ã§è¨ˆç®—ã‚’è¡Œã†<code>+</code>, <code>-</code>ã®äºŒé …æ¼”ç®—å­</li>
<li>äºŒé …æ¼”ç®—å­ã¨åŒæ§˜ã®è¨ˆç®—ã‚’è¡Œã„è‡ªèº«ã«ä»£å…¥ã™ã‚‹<code>+=</code>, <code>-=</code> ã®è¤‡åˆä»£å…¥æ¼”ç®—å­</li>
<li><code>unsigned</code>å‹(<code>year</code>å‹ã®ã¿<code>int</code>å‹)ã®å€¤ã¸ã®æ˜ç¤ºçš„ãªå¤‰æ›(<code>constexpr explicit operator unsigned() const noexcept;</code>)</li>
<li>æŒ‡å®šã•ã‚ŒãŸæ—¥ä»˜ãŒå„å˜ä½ã§é©åˆ‡ã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹<code>ok</code></li>
</ul>
<p><code>year</code>å‹ã¯, ã“ã‚Œã«åŠ ãˆã¦, <code>is_leap</code>, <code>min</code>, <code>max</code> ãƒ¡ãƒ³ãƒé–¢æ•°ã‚’ã‚‚ã¤. <code>is_leap</code>ã¯, æŒ‡å®šã•ã‚ŒãŸå¹´ãŒé–å¹´ã§ã‚ã‚‹ã‹åˆ¤å®šã§ãã‚‹. <code>min</code>, <code>max</code>ã¯å†…éƒ¨å‹ã®æœ€å°å€¤ã¨æœ€å¤§å€¤ã‚’è¿”ã™.
ã¾ãŸ, ä¸Šè¨˜ã®é€šã‚Š<code>y</code>ã¨ã„ã£ãŸãƒªãƒ†ãƒ©ãƒ«æ¥å°¾èªãŒå®šç¾©ã•ã‚Œã‚‹.<br>
ã¾ãŸ<code>day</code>å‹ã¯, <code>d</code>ã¨ã„ã£ãŸãƒªãƒ†ãƒ©ãƒ«æ¥å°¾èªãŒå®šç¾©ã•ã‚Œã‚‹.</p>
<p>ãƒ•ãƒ«ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹ã¯, <code>sys_days</code>ã¨ã„ã†å‹ã¸å¤‰æ›ã§ãã‚‹. ã“ã‚Œã¯,&nbsp;æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹.</p>
<div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="n">year_month_day</span><span class="o">::</span><span class="k">operator</span> <span class="n">sys_days</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></div>


<p>ãƒ•ãƒ«ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹ã¯,<code>sys_days</code>å‹ã«å¤‰æ›ã™ã‚‹ã“ã¨ã§,<code>system_clock::time_point</code>ãƒ•ã‚¡ãƒŸãƒªã¨ã®é–“ã§å¤‰æ›ã§ã, ã“ã‚Œã«ã‚ˆã‚Šå®Œå…¨ãªç›¸äº’é‹ç”¨ãŒå¯èƒ½ã§ã‚ã‚‹. <code>sys_days</code> ã¯
<em onclick="obj=document.getElementById('opensys_days').style; obj.display=(obj.display=='none')?'block':'none';">
<a style="font-style: normal; cursor:pointer;">æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã‚‹(ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹).</a>
</em>
<div id="opensys_days" style="display:none;clear:both;"></p>
<div class="highlight"><pre><span></span><span class="k">using</span> <span class="n">days</span> <span class="o">=</span> <span class="n">duration</span><span class="o">&lt;</span><span class="kt">int32_t</span><span class="p">,</span> <span class="n">ratio_multiply</span><span class="o">&lt;</span><span class="n">ratio</span><span class="o">&lt;</span><span class="mi">24</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">hours</span><span class="o">::</span><span class="n">period</span><span class="o">&gt;&gt;</span><span class="p">;</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration</span><span class="o">&gt;</span>
<span class="k">using</span> <span class="n">sys_time</span> <span class="o">=</span> <span class="n">time_point</span><span class="o">&lt;</span><span class="n">system_clock</span><span class="p">,</span> <span class="n">Duration</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="n">sys_days</span> <span class="o">=</span> <span class="n">sys_time</span><span class="o">&lt;</span><span class="n">days</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>


</div>

<p>åŠ ãˆã¦, <code>sys_days</code>ã«ã¯æ¬¡ã®ç‰¹æ€§ãŒã‚ã‚‹.</p>
<ul>
<li><code>sys_days</code>ã¯, <code>system_clock::time_point</code>ãŒãƒã‚¤ã‚¯ãƒ­ç§’, ã¾ãŸã¯ãƒŠãƒç§’ã®ã‚«ã‚¦ãƒ³ãƒˆã ã‘ã§ã‚ã‚‹ã®ã¨åŒæ§˜ã«, <code>system_clock</code>ã®åŸºç‚¹(ã‚¨ãƒãƒƒã‚¯)ã‹ã‚‰ã®æ—¥æ•°ã‚’ç¤ºã™.</li>
<li><code>sys_days</code>ã¯, åˆ‡ã‚Šæ¨ã¦ã‚¨ãƒ©ãƒ¼ãªã—ã§æš—é»™çš„ã«<code>system_clock::time_point</code>ã«å¤‰æ›ã•ã‚Œã‚‹.</li>
<li><code>system_clock::time_point</code>ã¯, åˆ‡ã‚Šæ¨ã¦ã‚¨ãƒ©ãƒ¼ãŒå«ã¾ã‚Œã‚‹ãŸã‚, æš—é»™çš„ã«<code>sys_days</code>ã«å¤‰æ›ã•ã‚Œãªã„.</li>
<li><code>system_clock::time_point_cast</code> ã¾ãŸã¯<code>floor</code>ã‚’ä½¿ç”¨ã—ãŸæ˜ç¤ºçš„ãªå¤‰æ›ã«ã‚ˆã£ã¦<code>system_clock::time_point</code>ã‹ã‚‰<code>sys_days</code>ã¸å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã‚‹.</li>
</ul>
<p>å†…éƒ¨ã§ä¿æŒã™ã‚‹éƒ¨åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹<code>year</code>, <code>month</code>, <code>day</code> ã‚’ãã‚Œãã‚Œ<code>y_</code>, <code>m_</code>, <code>d_</code> ã¨ã—ãŸã¨ã,
<code>year_month_day</code>ã‹ã‚‰<code>sys_days</code>ã¸ã®å¤‰æ›æ™‚ã«ã¯(ã™ãªã‚ã¡ä¸Šè¨˜ã®<code>operator sys_days()</code>ã®å‘¼ã³å‡ºã—),</p>
<ul>
<li><code>year_month_day::ok()</code>ãŒ<code>true</code>ã®å ´åˆ, <code>sys_days</code>ã®åŸºç‚¹ã‹ã‚‰<code>*this</code>ã¾ã§ã®æ—¥æ•°ã‚’ä¿æŒã™ã‚‹<code>sys_days</code>ã‚’è¿”ã™</li>
<li>ãã†ã§ãªã„å ´åˆ, <code>y_.ok() &amp;&amp; m_.ok() == true</code> ãªã‚‰ã° <code>sys_days{y_/m_/last}</code> ã‹ã‚‰ <code>days</code>(<code>duration&lt;int32_t, ratio_multiply&lt;ratio&lt;24&gt;, hours::period&gt;&gt;</code>) ã®æ•°ã ã‘<code>sys_days{y_,m_,last}.day()</code>ã‹ã‚‰ã‚ªãƒ•ã‚»ãƒƒãƒˆã•ã‚ŒãŸ<code>sys_days</code>ã‚’è¿”ã™</li>
<li>ãã†ã§ãªã„å ´åˆ,&nbsp;æœªè¦å®šã§ã‚ã‚‹</li>
</ul>
<p>ã“ã“ã§<code>year_month_day::ok</code>ã¯,
<code>y_.ok() &amp;&amp; m_.ok() == true</code> <span class="math">\(\land\)</span> <code>1d</code> <span class="math">\(\leq\)</span> <code>d_</code> <span class="math">\(\leq\)</span> <code>(y_/m_/last).day()</code> ã§ã‚ã‚‹ã¨ã <code>true</code> ã‚’, ãã†ã§ãªã„å ´åˆ, <code>false</code> ã‚’è¿”ã™ãƒ¡ãƒ³ãƒé–¢æ•°ã§ã‚ã‚‹.</p>
<div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">system_clock</span><span class="o">::</span><span class="n">time_point</span> <span class="n">tp</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">sys_days</span><span class="p">{</span><span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">29</span><span class="n">d</span><span class="p">};</span> <span class="c1">// Convert date to time_point</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">tp</span><span class="p">.</span><span class="n">time_since_epoch</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="err">&#39;</span><span class="mi">464</span><span class="err">&#39;</span><span class="mi">480</span><span class="err">&#39;</span><span class="mo">000</span><span class="err">&#39;</span><span class="mo">000</span><span class="err">&#39;</span><span class="mo">000u</span><span class="n">s</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">ymd</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month_day</span><span class="p">{</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">floor</span><span class="o">&lt;</span><span class="n">days</span><span class="o">&gt;</span><span class="p">(</span><span class="n">tp</span><span class="p">)};</span> <span class="c1">// Convert time_point to date</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">ymd</span> <span class="o">==</span> <span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">29</span><span class="n">d</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">tp</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">sys_days</span><span class="p">{</span><span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">29</span><span class="n">d</span><span class="p">}</span> <span class="o">+</span> <span class="mi">7</span><span class="n">h</span> <span class="o">+</span> <span class="mi">30</span><span class="n">min</span><span class="p">;</span> <span class="c1">// 2016-05-29 07:30 UTC</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">year_month_day</span><span class="p">{</span><span class="n">sys_days</span><span class="p">{</span><span class="mi">2017</span><span class="n">y</span><span class="o">/</span><span class="n">January</span><span class="o">/</span><span class="mi">0</span><span class="p">}}</span>  <span class="o">==</span> <span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">December</span><span class="o">/</span><span class="mi">31</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">year_month_day</span><span class="p">{</span><span class="n">sys_days</span><span class="p">{</span><span class="mi">2017</span><span class="n">y</span><span class="o">/</span><span class="n">January</span><span class="o">/</span><span class="mi">31</span><span class="p">}}</span> <span class="o">==</span> <span class="mi">2017</span><span class="n">y</span><span class="o">/</span><span class="n">January</span><span class="o">/</span><span class="mi">31</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">year_month_day</span><span class="p">{</span><span class="n">sys_days</span><span class="p">{</span><span class="mi">2017</span><span class="n">y</span><span class="o">/</span><span class="n">January</span><span class="o">/</span><span class="mi">32</span><span class="p">}}</span> <span class="o">==</span> <span class="mi">2017</span><span class="n">y</span><span class="o">/</span><span class="n">February</span><span class="o">/</span><span class="mi">1</span><span class="p">);</span>
</pre></div>


<p>ä¸Šè¿°ã—ãŸ, <code>days</code>ã®ä»–ã«, <code>weeks</code>, <code>months</code>, <code>years</code> ãŒ
<em onclick="obj=document.getElementById('openpartialcal').style; obj.display=(obj.display=='none')?'block':'none';">
<a style="font-style: normal; cursor:pointer;">æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã‚‹(ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹).</a>
</em>
<div id="openpartialcal" style="display:none;clear:both;"></p>
<div class="highlight"><pre><span></span><span class="k">using</span> <span class="n">weeks</span>  <span class="o">=</span> <span class="n">duration</span><span class="o">&lt;</span><span class="cm">/* signed integer type of at least 22 bits */</span><span class="p">,</span> <span class="n">ratio_multiply</span><span class="o">&lt;</span><span class="n">ratio</span><span class="o">&lt;</span><span class="mi">7</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">days</span><span class="o">::</span><span class="n">period</span><span class="o">&gt;&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="n">years</span>  <span class="o">=</span> <span class="n">duration</span><span class="o">&lt;</span><span class="cm">/* signed integer type of at least 17 bits */</span><span class="p">,</span> <span class="n">ratio_multiply</span><span class="o">&lt;</span><span class="n">ratio</span><span class="o">&lt;</span><span class="mi">146097</span><span class="p">,</span> <span class="mi">400</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">days</span><span class="o">::</span><span class="n">period</span><span class="o">&gt;&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="n">months</span> <span class="o">=</span> <span class="n">duration</span><span class="o">&lt;</span><span class="cm">/* signed integer type of at least 20 bits */</span><span class="p">,</span> <span class="n">ratio_divide</span><span class="o">&lt;</span><span class="n">years</span><span class="o">::</span><span class="n">period</span><span class="p">,</span> <span class="n">ratio</span><span class="o">&lt;</span><span class="mi">12</span><span class="o">&gt;&gt;&gt;</span><span class="p">;</span>
</pre></div>


</div>

<ul>
<li><code>days</code>, <code>weeks</code>, <code>months</code>, <code>years</code>å‹ã¯, ãã‚Œãã‚Œå°‘ãªãã¨ã‚‚ <span class="math">\(\pm\)</span>40000&nbsp;å¹´ã®ç¯„å›²ã‚’ã‚«ãƒãƒ¼ã™ã‚‹.</li>
<li><code>hours</code>ã®ãƒªãƒ†ãƒ©ãƒ«æ¥å°¾èªãŒ<code>h</code>, <code>minutes</code>ã®ãƒªãƒ†ãƒ©ãƒ«æ¥å°¾èªãŒ<code>min</code>, ã¨ã„ã†ã‚ˆã†ã«, ä»Šã¾ã§ã®ãƒªãƒ†ãƒ©ãƒ«æ¥å°¾èªã¯<code>duration</code>å‹ã¸å¯¾å¿œã—ã¦ã„ãŸãŒ, æ–°è¦ã«è¿½åŠ ã•ã‚Œã‚‹ <code>y</code>, <code>d</code>ã¨ã„ã£ãŸãƒªãƒ†ãƒ©ãƒ«æ¥å°¾èªã¯, <code>years</code>, <code>days</code>ã«å¯¾å¿œã™ã‚‹ãƒªãƒ†ãƒ©ãƒ«æ¥å°¾èªã§ã¯ãªã, ä¸Šè¿°ã—ãŸã‚ˆã†ã«, <code>year</code>, <code>day</code>ã®éƒ¨åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹ã«å¯¾å¿œã™ã‚‹ãƒªãƒ†ãƒ©ãƒ«æ¥å°¾èªã§ã‚ã‚‹.</li>
<li>1 å¹´ã‚’, 365.2425 æ—¥(ã‚°ãƒ¬ã‚´ãƒªã‚ªæš¦ã®å¹³å‡é•·)ã¨å®šç¾©ã—, 1 æœˆã‚’, 30.436875 æ—¥<span class="math">\(\left(\dfrac{1}{12}\right)\)</span> ã¨å®šç¾©ã™ã‚‹ãŸã‚,  ã‚·ã‚¹ãƒ†ãƒ æ™‚åˆ»(<code>time_point</code>)ã‚’åˆ©ç”¨ã—ãŸç®—å‡ºçµæœã¨, <code>year_month_day</code> ã‚’åˆ©ç”¨ã—ãŸç®—å‡ºçµæœã¯ç•°ãªã‚‹.</li>
</ul>
<div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="k">auto</span> <span class="n">date1</span> <span class="o">=</span> <span class="n">sys_days</span><span class="p">{</span><span class="mi">1997</span><span class="n">y</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">30</span><span class="n">d</span><span class="p">}</span> <span class="o">-</span> <span class="n">months</span><span class="p">{</span><span class="mi">5</span><span class="p">};</span> <span class="c1">// 1996-12-28 19:34:30</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">date2</span> <span class="o">=</span> <span class="n">sys_days</span><span class="p">{</span><span class="mi">1997</span><span class="n">y</span><span class="o">/</span><span class="n">December</span><span class="o">/</span><span class="mi">29</span><span class="n">d</span><span class="p">}</span> <span class="o">-</span> <span class="n">years</span><span class="p">{</span><span class="mi">1</span><span class="p">};</span> <span class="c1">// 1996-12-28 18:10:48</span>
</pre></div>


<p>ç¾å®Ÿã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®åˆ©ç”¨æ–¹æ³•ã¨ã—ã¦, ãŸã¨ãˆã°ã€Œ2016 å¹´ã® 5 æœˆ 29 æ—¥ã€ã‚’, ã€Œ2016 å¹´ã® 5 æœˆç¬¬ 5 æ—¥æ›œæ—¥ã€ã¨ã„ã†ã“ã¨ã‚‚ã‚ˆãã‚ã‚Š,&nbsp;ã“ã‚Œã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹.</p>
<div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">system_clock</span><span class="o">::</span><span class="n">time_point</span> <span class="n">tp</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">sys_days</span><span class="p">{</span><span class="n">Sunday</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">2016</span><span class="p">};</span> <span class="c1">// Convert date to time_point</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">tp</span><span class="p">.</span><span class="n">time_since_epoch</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="err">&#39;</span><span class="mi">464</span><span class="err">&#39;</span><span class="mi">480</span><span class="err">&#39;</span><span class="mo">000</span><span class="err">&#39;</span><span class="mo">000</span><span class="err">&#39;</span><span class="mo">000u</span><span class="n">s</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">ymd</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month_weekday</span><span class="p">{</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">floor</span><span class="o">&lt;</span><span class="n">days</span><span class="o">&gt;</span><span class="p">(</span><span class="n">tp</span><span class="p">)};</span> <span class="c1">// Convert time_point to date</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">ymd</span> <span class="o">==</span> <span class="n">Sunday</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">/</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">May</span><span class="o">/</span><span class="mi">2016</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">29</span><span class="n">d</span> <span class="o">==</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month_day</span><span class="p">{</span><span class="n">Sunday</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">2016</span><span class="p">});</span>

<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">wdi</span> <span class="o">=</span> <span class="n">Sunday</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span> <span class="c1">// wdi is the 5th Sunday of an as yet unspecified month</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">wdi</span><span class="p">.</span><span class="n">weekday</span><span class="p">()</span> <span class="o">==</span> <span class="n">Sunday</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">wdi</span><span class="p">.</span><span class="n">index</span><span class="p">()</span> <span class="o">==</span> <span class="mi">5</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">Sunday</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">weekday</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">wdi</span><span class="p">.</span><span class="n">index</span><span class="p">()),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">weekday_indexed</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
</pre></div>


<p>ã“ã“ã§, <code>Sunday</code>ã¯<code>weekday</code>å‹ã§ã‚ã‚Š, æ—¥æ›œæ—¥ã‚’è¡¨ç¾ã™ã‚‹ãƒªãƒ†ãƒ©ãƒ«ã¨ã—ã¦å®šç¾©ã•ã‚Œ, ä»–ã«ã‚‚<code>Monday</code>, <code>Tuesday</code>, <code>Wednesday</code>, <code>Thursday</code>, <code>Friday</code>, <code>Saturday</code>ãŒ
<em onclick="obj=document.getElementById('openweekday').style; obj.display=(obj.display=='none')?'block':'none';">
<a style="font-style: normal; cursor:pointer;">æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã‚‹(ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹).</a>
</em>
<div id="openweekday" style="display:none;clear:both;"></p>
<div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span> <span class="p">{</span>

<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">weekday</span> <span class="n">Sunday</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">weekday</span> <span class="n">Monday</span><span class="p">{</span><span class="mi">1</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">weekday</span> <span class="n">Tuesday</span><span class="p">{</span><span class="mi">2</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">weekday</span> <span class="n">Wednesday</span><span class="p">{</span><span class="mi">3</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">weekday</span> <span class="n">Thursday</span><span class="p">{</span><span class="mi">4</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">weekday</span> <span class="n">Friday</span><span class="p">{</span><span class="mi">5</span><span class="p">};</span>
<span class="kr">inline</span> <span class="k">constexpr</span> <span class="n">chrono</span><span class="o">::</span><span class="n">weekday</span> <span class="n">Saturday</span><span class="p">{</span><span class="mi">6</span><span class="p">};</span>

<span class="p">}</span>
</pre></div>


<p></div>
<code>weekday</code>å‹ã¯, <i>Strong equality</i><sup id="fnref2-1"><a class="footnote-ref" href="#fn-1">1</a></sup> ã‚’æº€ãŸã—, åŠ ãˆã¦,&nbsp;æ¬¡ã®ãƒ¡ãƒ³ãƒé–¢æ•°ã‚’æŒã¤.</p>
<ul>
<li>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿, <code>unsigned</code>, <code>sys_days</code>, å¾Œã«å–ã‚Šä¸Šã’ã¦ã„ã‚‹<code>local_days</code>å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘ä»˜ã‘ã‚‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿</li>
<li>æ›œæ—¥ã‚’å‰å¾Œã«é€²ã‚ã‚‹{å‰|å¾Œ}ç½®{ã‚¤ãƒ³|ãƒ‡}ã‚¯ãƒªãƒ¡ãƒ³ãƒˆæ¼”ç®—å­</li>
<li><code>weekday</code>, <code>days</code>å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘ä»˜ã‘ã¦æ›œæ—¥ã®è¨ˆç®—ã‚’è¡Œã†<code>+</code>, <code>-</code>ã®äºŒé …æ¼”ç®—å­</li>
<li>äºŒé …æ¼”ç®—å­ã¨åŒæ§˜ã®è¨ˆç®—ã‚’è¡Œã„è‡ªèº«ã«ä»£å…¥ã™ã‚‹<code>+=</code>, <code>-=</code> ã®è¤‡åˆä»£å…¥æ¼”ç®—å­</li>
<li>æŒ‡å®šã•ã‚ŒãŸæ›œæ—¥ãŒé©åˆ‡ã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹<code>ok</code></li>
<li><code>operator []</code></li>
</ul>
<p><code>operator []</code>ã¯, <code>unsigned</code>å‹ã‚’å¼•æ•°ã¨ã—ã¦å‘¼ã³å‡ºã™ã¨, <code>weekday_indexed</code>å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¿”ã•ã‚Œ, <code>last_spec</code>å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å¼•æ•°ã¨ã—ã¦å‘¼ã³å‡ºã™ã¨, <code>weekday_last</code>å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¿”ã•ã‚Œã‚‹.</p>
<ul>
<li><code>weekday_indexed</code>å‹ã¯, æœˆã®ç¬¬ 1, ç¬¬ 2, ç¬¬ 3, ç¬¬ 4 ã¾ãŸã¯ç¬¬ 5 æ›œæ—¥ã‚’è¡¨ã™ãŸã‚ã«ä½¿ç”¨ã•ã‚Œ, ä¸Šè¨˜ã®é€šã‚Š, <code>weekday</code>ãƒ¡ãƒ³ãƒé–¢æ•°, <code>index</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã‚’æŒã¤ä»–, <code>ok</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã‚’æŒã¤.</li>
<li><code>weekday_last</code>å‹ã¯, æœˆã®æœ€å¾Œã®<code>weekday</code>ã‚’è¡¨ã™ãŸã‚ã«ä½¿ç”¨ã•ã‚Œ, <code>weekday</code>ãƒ¡ãƒ³ãƒé–¢æ•°, <code>ok</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã‚’æŒã¤,</li>
<li><code>last_spec</code>å‹ã¯, æœ€çµ‚æ—¥ã‚’è¡¨ã™ãŸã‚ã«ä½¿ç”¨ã•ã‚Œ, åŒå‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ<code>last</code>ãŒ<code>chrono</code>åå‰ç©ºé–“ä¸‹ã«å®šç¾©ã•ã‚Œã‚‹.</li>
</ul>
<p>ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ã«ã—ã¦, ã‚ã‚‹æœˆã®æœ€çµ‚æ—¥, æœ€çµ‚ <span class="math">\(X\)</span>&nbsp;æ›œæ—¥ãªã©ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã‚‹.</p>
<div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">today</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month_day</span><span class="p">{</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">floor</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">days</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">system_clock</span><span class="o">::</span><span class="n">now</span><span class="p">())};</span>
<span class="k">auto</span> <span class="n">last_day</span> <span class="o">=</span> <span class="n">today</span><span class="p">.</span><span class="n">year</span><span class="p">()</span><span class="o">/</span><span class="n">today</span><span class="p">.</span><span class="n">month</span><span class="p">()</span><span class="o">/</span><span class="n">last</span><span class="p">;</span> <span class="c1">// last day of this month</span>
<span class="k">auto</span> <span class="n">last_Sunday</span> <span class="o">=</span> <span class="n">today</span><span class="p">.</span><span class="n">year</span><span class="p">()</span><span class="o">/</span><span class="n">today</span><span class="p">.</span><span class="n">month</span><span class="p">()</span><span class="o">/</span><span class="n">Sunday</span><span class="p">[</span><span class="n">last</span><span class="p">];</span> <span class="c1">// last Sundayday of this month</span>

<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">Sunday</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">weekday_indexed</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">Sunday</span><span class="p">[</span><span class="n">last</span><span class="p">]),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">weekday_last</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
</pre></div>


<p>ä»–ã«, å¹´ã‚’æœªæŒ‡å®šã¨ã—, ç‰¹å®šã®æœˆæ—¥ã‚’è¡¨ã™, <code>month_day</code>, æœˆã®æœ€çµ‚æ—¥ã‚’è¡¨ã™<code>month_day_last</code>, <span class="math">\(N\)</span> ç•ªç›®ã®æ›œæ—¥ã‚’è¡¨ã™<code>month_weekday</code>, æœˆã®æœ€çµ‚æ›œæ—¥ã‚’è¡¨ã™<code>month_weekday_last</code>ã¨,
æ—¥ã‚’æœªæŒ‡å®šã¨ã—, ç‰¹å®šã®å¹´æœˆã‚’è¡¨ã™, <code>year_month</code>, å‰è¿°ã—ãŸ<code>year_month_day</code>, ç‰¹å®šã®å¹´æœˆã®æœ€çµ‚æ—¥ã‚’è¡¨ã™<code>year_month_day_last</code>, ç‰¹å®šã®å¹´æœˆã® <span class="math">\(N\)</span> ç•ªç›®ã®æ›œæ—¥ã‚’è¡¨ã™<code>year_month_weekday</code>,
ç‰¹å®šã®å¹´æœˆã®æœ€çµ‚æ›œæ—¥ã‚’è¡¨ã™<code>year_month_weekday_last</code> ãŒæä¾›ã•ã‚Œã‚‹.</p>
<div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="k">auto</span> <span class="n">md</span> <span class="o">=</span> <span class="n">February</span><span class="o">/</span><span class="mi">1</span><span class="n">d</span><span class="p">;</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">md</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">month_day</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">mdl</span> <span class="o">=</span> <span class="n">February</span><span class="o">/</span><span class="n">last</span><span class="p">;</span>  <span class="c1">// mdl is the last day of February of an as yet unspecified year</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">mdl</span><span class="p">.</span><span class="n">month</span><span class="p">()</span> <span class="o">==</span> <span class="n">February</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">mdl</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">month_day_last</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
<span class="n">constxpr</span> <span class="k">auto</span> <span class="n">mw</span> <span class="o">=</span> <span class="n">February</span><span class="o">/</span><span class="n">Sunday</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">mw</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">month_weekday</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">mwl</span> <span class="o">=</span> <span class="n">February</span><span class="o">/</span><span class="n">Sunday</span><span class="p">[</span><span class="n">last</span><span class="p">];</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">mwl</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">month_weekday_last</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">ym</span> <span class="o">=</span> <span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">February</span><span class="p">;</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">ym</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">ymd</span> <span class="o">=</span> <span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">February</span><span class="o">/</span><span class="mi">1</span><span class="n">d</span><span class="p">;</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">ymd</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month_day</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">ymdl</span> <span class="o">=</span> <span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">February</span><span class="o">/</span><span class="n">last</span><span class="p">;</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">ymdl</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month_day_last</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">ymw</span> <span class="o">=</span> <span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">February</span><span class="o">/</span><span class="n">Sunday</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">ymw</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month_weekday</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">ymwl</span> <span class="o">=</span> <span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">February</span><span class="o">/</span><span class="n">last</span><span class="p">;</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">ymwl</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year_month_day_last</span><span class="o">&gt;::</span><span class="n">value</span><span class="p">);</span>
</pre></div>


<p>ãƒ•ãƒ«ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹, éƒ¨åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹, <code>sys_days</code>å‹ã®å…¨ã¦ã§, <code>operator &lt;&lt;</code>ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ <span class="caps">IO</span> ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¸ã®å‡ºåŠ›æ©Ÿèƒ½ãŒæä¾›ã•ã‚Œã‚‹ä»–, éãƒ¡ãƒ³ãƒé–¢æ•°ã¨ã—ã¦, <code>to_stream</code>, <code>from_stream</code> ãŒæä¾›ã•ã‚Œã‚‹.
ã“ã‚Œã‚‰ã¯ãã‚Œãã‚Œ, æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®é€šã‚Šã«å‡ºåŠ›ã™ã‚‹æ©Ÿèƒ½ã¨,&nbsp;æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã—ã¦å…¥åŠ›ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‹ã‚‰è§£æã™ã‚‹æ©Ÿèƒ½ã‚’æŒã¤.</p>
<div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">sys_days</span><span class="p">{</span><span class="n">Sunday</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">2016</span><span class="p">}</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// 2016-05-29</span>
<span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">to_stream</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">,</span> <span class="s">&quot;%b/%d/%Y %A %T&quot;</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">sys_days</span><span class="p">{</span><span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">29</span><span class="n">d</span><span class="p">}</span> <span class="o">+</span> <span class="mi">30</span><span class="n">min</span><span class="p">);</span> <span class="c1">// May/29/2016 Sunday 00:30:00</span>

<span class="k">auto</span> <span class="n">is</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">istringstream</span><span class="p">{</span><span class="s">&quot;2016-5-26&quot;</span><span class="p">};</span>
<span class="k">auto</span> <span class="n">tp</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">sys_days</span><span class="p">{};</span>
<span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">from_stream</span><span class="p">(</span><span class="n">in</span><span class="p">,</span> <span class="s">&quot;%F&quot;</span><span class="p">,</span> <span class="n">tp</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">is</span><span class="p">.</span><span class="n">fail</span><span class="p">())</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">tp</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// 2016-05-26</span>
</pre></div>


<p>ã¾ãŸ, <code>time_of_day</code>ã‚¯ãƒ©ã‚¹ãŒæä¾›ã•ã‚Œã‚‹. ã“ã‚Œã¯, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>duration&lt;Rep, Period&gt;</code> ã® 4 ã¤ã«å¯¾ã™ã‚‹ç‰¹æ®ŠåŒ–ãŒè¡Œã‚ã‚Œã¦ãŠã‚Š,
ãã‚Œãã‚Œåˆå‰ 0 æ™‚ã‹ã‚‰ã®æ™‚é–“, æ™‚é–“:åˆ†, æ™‚é–“:åˆ†:ç§’, æ™‚é–“:åˆ†:ç§’:<span class="math">\(X\)</span>&nbsp;ã¨ã„ã£ãŸæ›¸å¼è¨­å®šãŒã§ãã‚‹.</p>
<div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">time_of_day</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">hours</span><span class="o">&gt;</span> <span class="n">todh</span><span class="p">(</span><span class="mi">1</span><span class="n">h</span><span class="p">);</span>
<span class="n">todh</span><span class="p">.</span><span class="n">make12</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">todh</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 1am</span>
<span class="n">todh</span><span class="p">.</span><span class="n">make24</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">todh</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 0100</span>

<span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">time_of_day</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">minutes</span><span class="o">&gt;</span> <span class="n">todm</span><span class="p">(</span><span class="mi">1</span><span class="n">h</span> <span class="o">+</span> <span class="mi">30</span><span class="n">min</span><span class="p">);</span>
<span class="n">todm</span><span class="p">.</span><span class="n">make12</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">todm</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 1:30am</span>
<span class="n">todm</span><span class="p">.</span><span class="n">make24</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">todm</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 01:30</span>

<span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">time_of_day</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">seconds</span><span class="o">&gt;</span> <span class="n">tods</span><span class="p">(</span><span class="mi">1</span><span class="n">h</span> <span class="o">+</span> <span class="mi">30</span><span class="n">min</span> <span class="o">+</span> <span class="mi">30</span><span class="n">s</span><span class="p">);</span>
<span class="n">tods</span><span class="p">.</span><span class="n">make12</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">tods</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 1:30:30am</span>
<span class="n">tods</span><span class="p">.</span><span class="n">make24</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">tods</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 01:30:30</span>

<span class="n">std</span><span class="o">::</span><span class="n">chdono</span><span class="o">::</span><span class="n">time_of_day</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">milliseconds</span><span class="o">&gt;</span> <span class="n">todms</span><span class="p">(</span><span class="mi">1</span><span class="n">h</span> <span class="o">+</span> <span class="mi">30</span><span class="n">min</span> <span class="o">+</span> <span class="mi">30</span><span class="n">s</span> <span class="o">+</span> <span class="mi">30</span><span class="n">ms</span><span class="p">);</span>
<span class="n">todms</span><span class="p">.</span><span class="n">make12</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">todms</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 1:30:30.030am</span>
<span class="n">todms</span><span class="p">.</span><span class="n">make24</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">todms</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 01:30:30.030</span>
</pre></div>


<h3>ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³</h3>
<p>ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯, <a href="http://www.iana.org/time-zones"><span class="caps">IANA</span> Time Zone Database</a> ã®ãƒ‘ãƒ¼ã‚µãƒ¼ã¨ã—ã¦æä¾›ã•ã‚Œã‚‹<sup id="fnref-2"><a class="footnote-ref" href="#fn-2">2</a></sup>.
<a href="http://www.iana.org/time-zones"><span class="caps">IANA</span> Time Zone Database</a> ã«ã¯, <span class="caps">UTC</span> ã‹ã‚‰ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆã¨åœ°åŸŸã®çœç•¥å<sup id="fnref-3"><a class="footnote-ref" href="#fn-3">3</a></sup>ãŒå«ã¾ã‚Œã¦ãŠã‚Š, ã•ã‚‰ã«è©²å½“ã™ã‚‹å ´åˆ, å¤æ™‚é–“(ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ )ã®ãƒ«ãƒ¼ãƒ«ã‚‚å«ã¾ã‚Œã‚‹.
ã“ã‚Œã‚’è¡¨ç¾ã—ãŸ, <code>tzdb</code>, ã¾ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã®<code>tzdb</code>ã®ãƒªã‚¹ãƒˆã¨ãªã£ã¦ã„ã‚‹<code>tzdb_list</code>ã‚’ä»‹ã—ã¦, ä»»æ„ã®<code>tzdb</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã‚‹.
<code>tzdb_list</code>ã¯ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã§ã‚ã‚Š, éãƒ¡ãƒ³ãƒé–¢æ•°<code>get_tzdb_list</code>ã‹ã‚‰ãã®å‚ç…§ã‚’å¾—ã¦åˆ©ç”¨ã™ã‚‹.
<em onclick="obj=document.getElementById('opentimezones').style; obj.display=(obj.display=='none')?'block':'none';">
<a style="font-style: normal; cursor:pointer;">é–¢é€£ã™ã‚‹å®£è¨€ã‚’ä¸‹è¨˜ã«æŠœç²‹ã™ã‚‹(ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹).</a>
</em>
<div id="opentimezones" style="display:none;clear:both;"></p>
<div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">std</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">chrono</span> <span class="p">{</span>

<span class="k">struct</span> <span class="n">local_t</span> <span class="p">{};</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration</span><span class="o">&gt;</span>
<span class="k">using</span> <span class="n">local_time</span> <span class="o">=</span> <span class="n">time_point</span><span class="o">&lt;</span><span class="n">local_t</span><span class="p">,</span> <span class="n">Duration</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="n">local_seconds</span> <span class="o">=</span> <span class="n">local_time</span><span class="o">&lt;</span><span class="n">seconds</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="n">local_days</span> <span class="o">=</span> <span class="n">local_time</span><span class="o">&lt;</span><span class="n">days</span><span class="o">&gt;</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">sys_info</span> <span class="p">{</span>
    <span class="n">sys_seconds</span>   <span class="n">begin</span><span class="p">;</span>
    <span class="n">sys_seconds</span>   <span class="n">end</span><span class="p">;</span>
    <span class="n">seconds</span>       <span class="n">offset</span><span class="p">;</span>
    <span class="n">minutes</span>       <span class="n">save</span><span class="p">;</span>
    <span class="n">string</span>        <span class="n">abbrev</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">local_info</span> <span class="p">{</span>
    <span class="k">enum</span> <span class="p">{</span><span class="n">unique</span><span class="p">,</span> <span class="n">nonexistent</span><span class="p">,</span> <span class="n">ambiguous</span><span class="p">}</span> <span class="n">result</span><span class="p">;</span>
    <span class="n">sys_info</span> <span class="n">first</span><span class="p">;</span>
    <span class="n">sys_info</span> <span class="n">second</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="k">class</span> <span class="nc">choose</span> <span class="p">{</span><span class="n">earliest</span><span class="p">,</span> <span class="n">latest</span><span class="p">};</span>

<span class="k">class</span> <span class="nc">time_zone</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">time_zone</span><span class="p">(</span><span class="k">const</span> <span class="n">time_zone</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
    <span class="n">time_zone</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">time_zone</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration</span><span class="o">&gt;</span> <span class="n">sys_info</span>   <span class="n">get_info</span><span class="p">(</span><span class="n">sys_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;</span> <span class="n">st</span><span class="p">)</span>   <span class="k">const</span><span class="p">;</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration</span><span class="o">&gt;</span> <span class="n">local_info</span> <span class="n">get_info</span><span class="p">(</span><span class="n">local_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;</span> <span class="n">tp</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration</span><span class="o">&gt;</span>
    <span class="n">sys_time</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">common_type</span><span class="o">&lt;</span><span class="n">Duration</span><span class="p">,</span> <span class="n">seconds</span><span class="o">&gt;::</span><span class="n">type</span><span class="o">&gt;</span>
    <span class="n">to_sys</span><span class="p">(</span><span class="n">local_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;</span> <span class="n">tp</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration</span><span class="o">&gt;</span>
    <span class="n">sys_time</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">common_type</span><span class="o">&lt;</span><span class="n">Duration</span><span class="p">,</span> <span class="n">seconds</span><span class="o">&gt;::</span><span class="n">type</span><span class="o">&gt;</span>
    <span class="n">to_sys</span><span class="p">(</span><span class="n">local_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;</span> <span class="n">tp</span><span class="p">,</span> <span class="n">choose</span> <span class="n">z</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration</span><span class="o">&gt;</span>
    <span class="n">local_time</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">common_type</span><span class="o">&lt;</span><span class="n">Duration</span><span class="p">,</span> <span class="n">seconds</span><span class="o">&gt;::</span><span class="n">type</span><span class="o">&gt;</span>
    <span class="n">to_local</span><span class="p">(</span><span class="n">sys_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;</span> <span class="n">tp</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">tzdb</span> <span class="p">{</span>
    <span class="n">string</span>            <span class="n">version</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">time_zone</span><span class="o">&gt;</span> <span class="n">zones</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">link</span><span class="o">&gt;</span>      <span class="n">links</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">leap</span><span class="o">&gt;</span>      <span class="n">leaps</span><span class="p">;</span>

    <span class="k">const</span> <span class="n">time_zone</span><span class="o">*</span> <span class="nf">locate_zone</span><span class="p">(</span><span class="n">string_view</span> <span class="n">tz_name</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">time_zone</span><span class="o">*</span> <span class="nf">current_zone</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">tzdb_list</span> <span class="p">{</span>
    <span class="n">atomic</span><span class="o">&lt;</span><span class="n">tzdb</span><span class="o">*&gt;</span> <span class="n">head_</span><span class="p">{</span><span class="k">nullptr</span><span class="p">};</span>  <span class="c1">// exposition only</span>
<span class="k">public</span><span class="o">:</span>
    <span class="k">class</span> <span class="nc">const_iterator</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">tzdb</span><span class="o">&amp;</span> <span class="n">front</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
    <span class="n">const_iterator</span> <span class="nf">erase_after</span><span class="p">(</span><span class="n">const_iterator</span> <span class="n">p</span><span class="p">)</span> <span class="k">noexcept</span><span class="p">;</span>

    <span class="n">const_iterator</span> <span class="nf">begin</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
    <span class="n">const_iterator</span> <span class="nf">end</span><span class="p">()</span>   <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>

    <span class="n">const_iterator</span> <span class="nf">cbegin</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
    <span class="n">const_iterator</span> <span class="nf">cend</span><span class="p">()</span>   <span class="k">const</span> <span class="k">noexcept</span><span class="p">;</span>
<span class="p">};</span>

<span class="p">}</span> <span class="p">}</span>
</pre></div>


</div>

<ul>
<li><code>local_time</code>ã¯<code>local_t</code>ã¨ã„ã†ç©ºã®æ“¬ä¼¼ã‚¯ãƒ­ãƒƒã‚¯å‹ãŒæŒ‡å®šã•ã‚Œã¦ãŠã‚Š, ã“ã‚Œã¯å½“ç„¶ C++ ã® Clock ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’æº€ãŸã—ã¦ã„ãªã„ãŒ,&nbsp;æœªå®šç¾©ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã«é–¢ã™ã‚‹ãƒ­ãƒ¼ã‚«ãƒ«æ™‚åˆ»ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™.</li>
<li><code>sys_info</code>æ§‹é€ ä½“ã¯, <code>time_zone</code>ã¨<code>sys_time</code>, ã¾ãŸã¯<code>local_time</code>ã®çµ„ã¿åˆã‚ã›, ãŠã‚ˆã³<code>zoned_time</code>ã‹ã‚‰å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹. å®Ÿè³ªçš„ã«ã¯, <code>time_zone</code>ã¨<code>sys_time</code>ã®ãƒšã‚¢ã§ã‚ã‚Š, ä½ãƒ¬ãƒ™ãƒ« <span class="caps">API</span> ã‚’è¡¨ç¾ã™ã‚‹. <code>sys_time</code>ã‹ã‚‰<code>local_time</code>ã¸ã®é€šå¸¸ã®å¤‰æ›ã§ã¯, æš—é»™çš„ã«ã“ã®æ§‹é€ ä½“ãŒä½¿ç”¨ã•ã‚Œã‚‹.<ul>
<li><code>begin</code>, <code>end</code>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯, <code>time_zone</code>ãŠã‚ˆã³<code>time_point</code>ã«ã¤ã„ã¦<code>offset</code>ã¨<code>abbrev</code>ãŒ<span class="math">\([\)</span><code>begin</code>, <code>end</code><span class="math">\()\)</span>&nbsp;ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™.</li>
<li><code>offset</code>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯, é–¢é€£ã™ã‚‹<code>time_zone</code>ãŠã‚ˆã³<code>time_point</code>ã«æœ‰åŠ¹ãª <span class="caps">UTC</span> ã‚ªãƒ•ã‚»ãƒƒãƒˆã‚’ç¤ºã™(<code>offset = local_time - sys_time</code>).</li>
<li><code>save</code>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯, é€šå¸¸<code>local_time</code>ã¨<code>sys_time</code>ã®å¤‰æ›ã§ã¯å¿…è¦ã®ãªã„&#8221;ä½™åˆ†ãª&#8221;æƒ…å ±ã§ã‚ã‚‹ãŒ, ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ã®å¯¾å¿œã§å¿…è¦ã¨ãªã‚‹. <code>save != 0min</code>ã®å ´åˆ, ã“ã® <code>sys_info</code> ã¯ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ã®æ™‚é–“å¸¯ã«ã‚ã‚‹ã¨åˆ¤æ–­ã™ã‚‹. <code>offset - save</code>ã«ã‚ˆã£ã¦, ã“ã®<code>time_zone</code>ãŒã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ã«å¯¾å¿œã§ãã¦ã„ãªã„å¯èƒ½æ€§ã‚’å°å‡ºã§ãã‚‹. ã—ã‹ã—, ã“ã®æƒ…å ±ã¯æ­£å¼ãªã‚‚ã®ã§ã¯ãªã, ãã®ã‚ˆã†ãªæƒ…å ±ã‚’ç¢ºå®Ÿã«å–å¾—ã™ã‚‹å”¯ä¸€ã®æ–¹æ³•ã¯, <code>save == 0min</code>ã§ã‚ã‚‹<code>sys_info</code>ã‚’è¿”ã™<code>time_point</code>ã¨, ç¢ºèªã—ãŸã„<code>time_zone</code>ã‚’ç…§ä¼šã™ã‚‹ã“ã¨ã§ã‚ã‚‹.</li>
<li><code>abbrev</code>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯, é–¢é€£ã™ã‚‹<code>time_zone</code>ãŠã‚ˆã³<code>time_point</code>ã«ä½¿ç”¨ã•ã‚Œã‚‹ç¾åœ¨ã®ç•¥èªã‚’ç¤ºã™. ç•¥èªã¯, <code>time_zone</code>é–“ã§ä¸€æ„ã§ãªã„ãŸã‚, ç•¥èªã‚’<code>time_zone</code>ã¨ <span class="caps">UTC</span>&nbsp;ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆã«ç¢ºå®Ÿã«ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ã“ã¨ã¯ã§ããªã„</li>
<li><span class="caps">IO</span> ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«å¯¾å¿œã—ã¦ã„ã‚‹. <code>zoned_time zt = { "Asia/Tokyo", system_clock::now() }; std::cout &lt;&lt; zt.get_info() &lt;&lt; '\n';</code></li>
</ul>
</li>
<li><code>local_info</code>æ§‹é€ ä½“ã¯, ä½ãƒ¬ãƒ™ãƒ« <span class="caps">API</span> ã‚’è¡¨ã™. <code>local_time</code>ã‹ã‚‰<code>sys_time</code>ã¸ã®é€šå¸¸ã®å¤‰æ›ã§ã¯, æš—é»™çš„ã«ã“ã®æ§‹é€ ä½“ãŒä½¿ç”¨ã•ã‚Œã‚‹.<ul>
<li><code>local_time</code>ã‹ã‚‰<code>sys_time</code>ã¸ã®å¤‰æ›ãŒå”¯ä¸€(ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ã§ãªã„)ã§, <code>result == unique</code> ã§ã‚ã‚‹å ´åˆ, <code>first</code>ãŒæ­£ã—ã„<code>sys_info</code>ãŒã‚»ãƒƒãƒˆã•ã‚Œ, <code>second</code>ãŒ 0&nbsp;ã§åˆæœŸåŒ–ã•ã‚Œã‚‹.</li>
<li>å¤‰æ›ãŒå­˜åœ¨ã—ãªã„(<code>result == noexistent</code>)<sup id="fnref4-6"><a class="footnote-ref" href="#fn-6">6</a></sup>å ´åˆ, <code>first</code>ã¯<code>local_time</code>ã®ç›´å‰ã§çµ‚äº†ã™ã‚‹<code>sys_info</code>ãŒã‚»ãƒƒãƒˆã•ã‚Œ, <code>second</code>ã¯<code>local_time</code>ã®ç›´å¾Œã«é–‹å§‹ã™ã‚‹<code>sys_info</code>ãŒã‚»ãƒƒãƒˆã•ã‚Œã‚‹.</li>
<li>å¤‰æ›ãŒæ›–æ˜§(<code>result == ambiguous</code>)<sup id="fnref5-6"><a class="footnote-ref" href="#fn-6">6</a></sup>ãªå ´åˆ, <code>first</code>ã¯<code>local_time</code>ã®ç›´å¾Œã«çµ‚äº†ã™ã‚‹<code>sys_info</code>ãŒã‚»ãƒƒãƒˆã•ã‚Œ, <code>second</code>ã¯<code>local_time</code>ã®ç›´å‰ã§é–‹å§‹ã™ã‚‹<code>sys_info</code>ãŒã‚»ãƒƒãƒˆã•ã‚Œã‚‹.</li>
<li><span class="caps">IO</span> ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«å¯¾å¿œã—ã¦ã„ã‚‹. <code>std::cout &lt;&lt; get_tzdb().current_zone()-&gt;get_info(local_days{2016y/May/29d}) &lt;&lt; '\n';</code></li>
</ul>
</li>
<li><code>time_zone</code>æ§‹é€ ä½“ã¯, ç‰¹å®šã®åœ°åŸŸã®å…¨ã¦ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³é·ç§»ã‚’è¡¨ç¾ã™ã‚‹. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–ã®éç¨‹ã§, ç¾åœ¨åœ°ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³, ãŠã‚ˆã³ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã®æƒ…å ±ã‚’ãªã‚“ã‚‰ã‹ã®æ–¹æ³•<sup id="fnref-4"><a class="footnote-ref" href="#fn-4">4</a></sup><sup id="fnref2-5"><a class="footnote-ref" href="#fn-5">5</a></sup>ã§æ§‹ç¯‰ã™ã‚‹. <i>Strong ordering</i><sup id="fnref5-1"><a class="footnote-ref" href="#fn-1">1</a></sup> ã‚’æº€ãŸã™.<ul>
<li><code>name</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, <code>time_zone</code>ã®åå‰<sup id="fnref2-3"><a class="footnote-ref" href="#fn-3">3</a></sup>ã‚’å–å¾—ã§ãã‚‹.</li>
<li><code>get_info</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, <code>sys_info</code>, <code>local_info</code>ã‚’å–å¾—ã§ãã‚‹.</li>
<li><code>to_sys</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, <code>sys_time</code>, <code>local_time</code>ã‚’å–å¾—ã§ãã‚‹.<ul>
<li><code>time_zone::to_sys(local_time&lt;Duration&gt; tp) const;</code>: å°‘ãªãã¨ã‚‚<code>seconds</code>ã¨åŒã˜ãã‚‰ã„ã®<code>sys_time</code>ã§ã‚ã‚Š, å¼•æ•°ã®ç²¾åº¦ãŒã•ã‚‰ã«é«˜ã‘ã‚Œã°ãã‚Œã«åˆã‚ã›ã‚‰ã‚Œã‚‹. <code>tp</code>ã‹ã‚‰<code>sys_time</code>ã¸ã®å¤‰æ›ãŒæ›–æ˜§<sup id="fnref-6"><a class="footnote-ref" href="#fn-6">6</a></sup>ã§ã‚ã‚‹å ´åˆ, <code>ambiguous_local_time</code>ä¾‹å¤–ã‚’ã‚¹ãƒ­ãƒ¼ã™ã‚‹<sup id="fnref-7"><a class="footnote-ref" href="#fn-7">7</a></sup>. <code>tp</code>ã‹ã‚‰<code>sys_time</code>ã¸ã®å¤‰æ›ãŒå­˜åœ¨ã—ãªã„<sup id="fnref2-6"><a class="footnote-ref" href="#fn-6">6</a></sup>å ´åˆ, <code>nonexistent_local_time</code>ä¾‹å¤–ã‚’ã‚¹ãƒ­ãƒ¼ã™ã‚‹<sup id="fnref-8"><a class="footnote-ref" href="#fn-8">8</a></sup>.</li>
<li><code>time_zone::to_sys(local_time&lt;Duration&gt; tp, choose z) const;</code>: å°‘ãªãã¨ã‚‚<code>seconds</code>ã¨åŒã˜ãã‚‰ã„ã®<code>sys_time</code>ã§ã‚ã‚Š, å¼•æ•°ã®ç²¾åº¦ãŒã•ã‚‰ã«é«˜ã‘ã‚Œã°ãã‚Œã«åˆã‚ã›ã‚‰ã‚Œã‚‹. <code>tp</code>ã‹ã‚‰<code>sys_time</code>ã¸ã®å¤‰æ›ãŒæ›–æ˜§<sup id="fnref3-6"><a class="footnote-ref" href="#fn-6">6</a></sup>ãŒã‚ã„ã¾ã„ã§ã‚ã‚‹å ´åˆ, <code>z == choose::earliest</code>ã®å ´åˆã¯, ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ä»¥å‰ã®<code>sys_time</code>ã‚’è¿”ã—, <code>z == choose::latest</code>ã®å ´åˆã¯, ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ä»¥å¾Œã®<code>sys_time</code>ã‚’è¿”ã™. <code>tp</code> ãŒ 2 ã¤ã® <span class="caps">UTC</span> <code>time_point</code>ã®é–“ã«å­˜åœ¨ã—ãªã„æ™‚é–“ã‚’è¡¨ã™å ´åˆ, 2 ã¤ã® <span class="caps">UTC</span> <code>time_point</code>ã¯åŒã˜ã«ãªã‚Š, <span class="caps">UTC</span> <code>time_point</code>ãŒè¿”ã•ã‚Œã‚‹.</li>
<li><code>time_zone::to_local(sys_time&lt;Duration&gt; tp) const;</code>: <code>tp</code> ã¨è‡ªèº«ã®<code>time_zone</code>ã«é–¢é€£ã¥ã‘ã‚‰ã‚ŒãŸ<code>local_time</code>ã‚’è¿”ã™.    </li>
</ul>
</li>
</ul>
</li>
<li><code>tzdb</code>ã¯, å‰è¿°ã—ãŸé€šã‚Š, ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’è¡¨ç¾ã™ã‚‹.<ul>
<li><code>version</code>ã¯, ãã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¡¨ã™. <code>zones</code>, <code>links</code>, <code>leaps</code>ã¯, æ¤œç´¢ã®é«˜é€ŸåŒ–ã®ãŸã‚ã«,&nbsp;æ§‹ç¯‰æ™‚ã«æ˜‡é †ã‚½ãƒ¼ãƒˆã•ã‚Œã‚‹.</li>
<li><code>locate_zone</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã‹ã‚‰, ä¸ãˆã‚‰ã‚ŒãŸ<code>string_view</code>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨<code>name()</code>ãŒç­‰ä¾¡ã§ã‚ã‚‹<code>time_zone</code>ãŒè¦‹ã¤ã‹ã£ãŸå ´åˆ, ãã®<code>time_zone</code>ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã‚’å–å¾—ã§ãã‚‹. ãã†ã§ãªã„å ´åˆ, ä¸ãˆã‚‰ã‚ŒãŸ<code>string_view</code>ã¨<code>link.name()</code>(ã“ã“ã§, <code>link</code>ã¯å¾Œè¿°ã—ã¦ã„ã‚‹<code>time_zone</code>ã®ä»£æ›¿åã‚’è¡¨ç¾ã™ã‚‹ã‚¯ãƒ©ã‚¹ã§ã‚ã‚‹)ãŒç­‰ä¾¡ã§ã‚ã‚‹<code>link</code>ãŒè¦‹ã¤ã‹ã£ãŸå ´åˆ, <code>zone.name() == link.target()</code>ã®<code>time_zone</code>ãƒã‚¤ãƒ³ã‚¿ãŒå–å¾—ã§ãã‚‹. ãã†ã§ãªã„å ´åˆ, <code>runtime_error</code>ä¾‹å¤–ã‚’é€å‡ºã™ã‚‹. ä¾‹å¤–é€å‡ºä»¥å¤–ã§ã“ã®é–¢æ•°ã‹ã‚‰å‡¦ç†ãŒè¿”ã‚‹ã¨ã, è¿”ã•ã‚Œã‚‹æˆ»ã‚Šå€¤ã¯å¿…ãšæœ‰åŠ¹ãª<code>time_zone</code>ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã§ã‚ã‚‹.</li>
<li><code>current_zone</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã‹ã‚‰,&nbsp;ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã«è¨­å®šã•ã‚ŒãŸãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’å–å¾—ã§ãã‚‹.</li>
</ul>
</li>
<li><code>tzdb_list</code>ã¯, <code>tzdb</code>ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã‚’ã‚‚ã¤, <code>tzdb</code>ã®ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãƒªã‚¹ãƒˆã§ã‚ã‚‹.ã€€è¤‡æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’, åŒãƒªã‚¹ãƒˆã‚’ä»‹ã—ã¦ä¸€åº¦ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹. ä¾‹:<code>for (auto&amp;&amp; v : get_tzdb_list()) { std::cout &lt;&lt; v &lt;&lt; '\n'; }</code><ul>
<li><code>front</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, å…ˆé ­<code>tzdb</code>ã®å‚ç…§ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹. ã“ã‚Œã¯, <code>reload_tzdb</code>éãƒ¡ãƒ³ãƒé–¢æ•°ã«å¯¾ã—ã¦ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã§ã‚ã‚‹.</li>
<li><code>erase_after</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, ä¸ãˆã‚‰ã‚ŒãŸã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®å¾Œã«å‚ç…§ã™ã‚‹<code>tzdb</code>ã‚’æ¶ˆå»ã™ã‚‹. æ¶ˆå»ã•ã‚ŒãŸè¦ç´ ã®æ¬¡ã®è¦ç´ ã‚’æŒ‡ã™ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãŒè¿”ã•ã‚Œã‚‹. ãã®ã‚ˆã†ãªè¦ç´ ãŒå­˜åœ¨ã—ãªã„å ´åˆ, ãƒ¡ãƒ³ãƒé–¢æ•°<code>end</code>ã‚’å‘¼ã³å‡ºã—, ãã®çµæœã‚’è¿”ã™. ãªãŠ, ã“ã“ã§æ¶ˆå»ã•ã‚ŒãŸ<code>tzdb</code>ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã‚’é™¤ã„ã¦, ãƒã‚¤ãƒ³ã‚¿ãƒ¼, å‚ç…§, ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯ç„¡åŠ¹ã«ãªã‚‰ãªã„. ã¾ãŸ, ãƒ¡ãƒ³ãƒé–¢æ•°<code>begin</code>ã‚’å‘¼ã³å‡ºã—, ãã‚Œã«ã‚ˆã£ã¦å‚ç…§ã•ã‚Œã‚‹<code>tzdb</code>ã‚’æ¶ˆå»ã™ã‚‹ã“ã¨ã¯ã§ããªã„.</li>
<li><code>begin</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, ã‚³ãƒ³ãƒ†ãƒŠå†…ã®æœ€åˆã®<code>tzdb</code>ã‚’å‚ç…§ã™ã‚‹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿å–å¾—ã§ãã‚‹. <code>cbegin</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã¯<code>begin</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã®<code>const</code>ç‰ˆã§ã‚ã‚‹.</li>
<li><code>end</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, ã‚³ãƒ³ãƒ†ãƒŠå†…ã®æœ€å¾Œã®<code>tzdb</code>ã‚ˆã‚Š 1 ã¤å¾Œã‚ã®ä½ç½®ã‚’å‚ç…§ã™ã‚‹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã‚‹. <code>cend</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã¯<code>end</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã®<code>const</code>ç‰ˆã§ã‚ã‚‹.</li>
<li><code>get_tzdb_list</code>éãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, åŒãƒªã‚¹ãƒˆã®å‚ç…§ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹. åŒãƒ¡ãƒ³ãƒé–¢æ•°ã¸ã®å‘¼ã³å‡ºã—ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®æœ€åˆã®ã‚¢ã‚¯ã‚»ã‚¹ã§ã‚ã‚‹å ´åˆ, ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åˆæœŸåŒ–ã™ã‚‹. ã“ã®å‘¼ã³å‡ºã—ã«ã‚ˆã£ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒåˆæœŸåŒ–ã•ã‚ŒãŸå ´åˆ, <code>tzdb</code>ã‚’ä¸€ã¤æŒã¤<code>tzdb_list</code>ãŒæ§‹ç¯‰ã•ã‚Œã‚‹. åŒãƒ¡ãƒ³ãƒé–¢æ•°ã‚’ä¸€åº¦ã«è¤‡æ•°ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã—ã¦ã‚‚ç«¶åˆã›ãš, ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã§ã‚ã‚‹. ä½•ã‚‰ã‹ã®ç†ç”±ã§æœ‰åŠ¹ãªãƒªã‚¹ãƒˆã®å‚ç…§ã‚’è¿”ã›ãš, 1 ã¤ä»¥ä¸Šã®æœ‰åŠ¹ãª<code>tzdb</code>ã‚’å«ã‚€å ´åˆ, <code>runtime_error</code>ä¾‹å¤–ã‚’é€å‡ºã™ã‚‹.</li>
<li><code>get_tzdb</code>éãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, åŒãƒªã‚¹ãƒˆã®å…ˆé ­<code>tzdb</code>ã®å‚ç…§ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹(<code>get_tzdb_list().front()</code>).</li>
<li><code>locate_zone</code>éãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, æ¬¡ã®å€¤ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹. ãªãŠ, ã“ã‚ŒãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®æœ€åˆã®ã‚¢ã‚¯ã‚»ã‚¹ã§ã‚ã‚‹å ´åˆ, ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åˆæœŸåŒ–ã™ã‚‹. <code>get_tzdb().locate_zone(tz_name);</code></li>
<li><code>current_zone</code>éãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, æ¬¡ã®å€¤ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹. <code>get_tzdb().current_zone();</code></li>
</ul>
</li>
</ul>
<p><i>ãƒ­ãƒ¼ã‚«ãƒ«</i>ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æœ€åˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã, ãŸã¨ãˆã°<code>current_zone()</code>ã‚’ä»‹ã—ã¦å®Ÿè£…ã«ã‚ˆã£ã¦æä¾›ã•ã‚Œã‚‹.
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹é–“, å®Ÿè£…ã¯ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ›´æ–°ã‚’é¸æŠã™ã‚‹ã“ã¨ãŒã‚ã‚‹.
ã“ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¯, ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦æ¬¡ã«æŒ™ã’ã‚‹é–¢æ•°ã‚’å‘¼ã³å‡ºã•ãªã„é™ã‚Š, ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ã¯ãªã„.
ã“ã®æ½œåœ¨çš„ã«æ›´æ–°ã•ã‚ŒãŸã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯, <i>ãƒªãƒ¢ãƒ¼ãƒˆ</i>ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨å‘¼ã¶.
<em onclick="obj=document.getElementById('openremotetimezone').style; obj.display=(obj.display=='none')?'block':'none';">
<a style="font-style: normal; cursor:pointer;">æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã‚‹(ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹).</a>
</em>
<div id="openremotetimezone" style="display:none;clear:both;"></p>
<div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">std</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">chrono</span> <span class="p">{</span>

<span class="k">const</span> <span class="n">tzdb</span><span class="o">&amp;</span> <span class="n">reload_tzdb</span><span class="p">();</span>
<span class="n">string</span> <span class="nf">remote_version</span><span class="p">();</span>

<span class="p">}</span> <span class="p">}</span>
</pre></div>


</div>

<ul>
<li><code>reload_tzdb</code>éãƒ¡ãƒ³ãƒé–¢æ•°ã¯, æœ€åˆã«ãƒªãƒ¢ãƒ¼ãƒˆã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã„, ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåŒã˜ã§ã‚ã‚‹å ´åˆã¯ãªã«ã‚‚ã—ãªã„. ãã‚Œä»¥å¤–ã®å ´åˆ, ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯, <code>get_tzdb_list</code>éãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹<code>tzdb_list</code>ã®å…ˆé ­ã«ãƒ—ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹. ã„ãšã‚Œã®å ´åˆã‚‚, <code>get_tzdb_list().front()</code> ãŒè¿”ã•ã‚Œã‚‹. ã“ã®é–¢æ•°ã¯, <code>get_tzdb_list().front()</code>ã¨<code>get_tzdb_list().erase_after()</code>ã«å¯¾ã—ã¦ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã§ã‚ã‚‹. ä½•ã‚‰ã‹ã®ç†ç”±ã§æœ‰åŠ¹ãª<code>tzdb</code>ã®å‚ç…§ãŒæˆ»ã•ã‚Œãªã„å ´åˆ, <code>runtime_error</code>ä¾‹å¤–ãŒé€å‡ºã•ã‚Œã‚‹.</li>
<li><code>remote_version</code>éãƒ¡ãƒ³ãƒé–¢æ•°ã¯, æœ€æ–°ã®ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ–‡å­—åˆ—(<code>std::string</code>)ã‚’è¿”ã™. ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåˆ©ç”¨ã§ããªã„å ´åˆ, ç©ºã®æ–‡å­—åˆ—ãŒè¿”ã•ã‚Œã‚‹. ç©ºã§ãªã„å ´åˆ, ã“ã‚Œã‚’<code>get_tzdb_list().version</code>ã¨æ¯”è¼ƒã—ã¦,&nbsp;ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒåŒç­‰ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã§ãã‚‹.</li>
</ul>
<p><code>zoned_traits</code>, <code>zoned_time</code>ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§, <code>sys_days</code>, <code>local_days</code>ã¨ã„ã£ãŸ<code>time_point</code>ã‚’<code>tzdb</code>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨é–¢é€£ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹.
<em onclick="obj=document.getElementById('openzoned_traits').style; obj.display=(obj.display=='none')?'block':'none';">
<a style="font-style: normal; cursor:pointer;">æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã‚‹(ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹).</a>
</em>
<div id="openzoned_traits" style="display:none;clear:both;"></p>
<div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">std</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">chrono</span> <span class="p">{</span>

<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span> <span class="k">struct</span> <span class="n">zoned_traits</span> <span class="p">{};</span>
<span class="k">template</span> <span class="o">&lt;&gt;</span>
<span class="k">struct</span> <span class="n">zoned_traits</span><span class="o">&lt;</span><span class="k">const</span> <span class="n">time_zone</span><span class="o">*&gt;</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">const</span> <span class="n">time_zone</span><span class="o">*</span> <span class="n">default_zone</span><span class="p">();</span>
    <span class="k">static</span> <span class="k">const</span> <span class="n">time_zone</span><span class="o">*</span> <span class="nf">locate_zone</span><span class="p">(</span><span class="n">string_view</span> <span class="n">name</span><span class="p">);</span>
<span class="p">};</span>

<span class="p">}</span> <span class="p">}</span>
</pre></div>


</div>

<p><code>zoned_traits</code>ã«ã‚ˆã£ã¦, <code>zoned_time</code>ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å‹•ä½œã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ãŒã§ãã‚‹.</p>
<ul>
<li><code>zoned_traits&lt;const time_zone*&gt;::default_zone();</code> ã¯, <code>std::chrono::locate_zone("UTC")</code> ã‚’è¿”ã™.</li>
<li><code>zoned_traits&lt;const time_zone*&gt;::locate_zone(string_view name);</code> ã¯, <code>std::chrono::locate_zone(name)</code> ã‚’è¿”ã™.</li>
</ul>
<p><code>zoned_time</code>ã¯, <code>Duration</code>ã®ç²¾åº¦ã§, <code>time_zone</code>ã¨<code>time_point</code>ã®è«–ç†åŒºåˆ‡ã‚Šã‚’è¡¨ã™. <i>Strong equality</i><sup id="fnref3-1"><a class="footnote-ref" href="#fn-1">1</a></sup>ã‚’æº€ãŸã™.
<em onclick="obj=document.getElementById('openzoned_time').style; obj.display=(obj.display=='none')?'block':'none';">
<a style="font-style: normal; cursor:pointer;">æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã‚‹(ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹).</a>
</em>
<div id="openzoned_time" style="display:none;clear:both;"></p>
<div class="highlight"><pre><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration</span><span class="p">,</span> <span class="k">class</span> <span class="nc">TimeZonePtr</span> <span class="o">=</span> <span class="k">const</span> <span class="n">time_zone</span><span class="o">*&gt;</span>
<span class="k">class</span> <span class="nc">zoned_time</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="k">using</span> <span class="n">duration</span> <span class="o">=</span> <span class="n">common_type_t</span><span class="o">&lt;</span><span class="n">Duration</span><span class="p">,</span> <span class="n">seconds</span><span class="o">&gt;</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>
    <span class="n">TimeZonePtr</span>        <span class="n">zone_</span><span class="p">;</span>  <span class="c1">// exposition only</span>
    <span class="n">sys_time</span><span class="o">&lt;</span><span class="n">duration</span><span class="o">&gt;</span> <span class="n">tp_</span><span class="p">;</span>    <span class="c1">// exposition only</span>

<span class="k">public</span><span class="o">:</span>
    <span class="n">zoned_time</span><span class="p">();</span>
    <span class="n">zoned_time</span><span class="p">(</span><span class="k">const</span> <span class="n">zoned_time</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
    <span class="n">zoned_time</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">zoned_time</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>

             <span class="n">zoned_time</span><span class="p">(</span><span class="k">const</span> <span class="n">sys_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">st</span><span class="p">);</span>
    <span class="k">explicit</span> <span class="nf">zoned_time</span><span class="p">(</span><span class="n">TimeZonePtr</span> <span class="n">z</span><span class="p">);</span>
    <span class="k">explicit</span> <span class="nf">zoned_time</span><span class="p">(</span><span class="n">string_view</span> <span class="n">name</span><span class="p">);</span>

    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration2</span><span class="o">&gt;</span>
        <span class="n">zoned_time</span><span class="p">(</span><span class="k">const</span> <span class="n">zoned_time</span><span class="o">&lt;</span><span class="n">Duration2</span><span class="o">&gt;&amp;</span> <span class="n">zt</span><span class="p">)</span> <span class="k">noexcept</span><span class="p">;</span>

    <span class="n">zoned_time</span><span class="p">(</span><span class="n">TimeZonePtr</span> <span class="n">z</span><span class="p">,</span>    <span class="k">const</span> <span class="n">sys_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">st</span><span class="p">);</span>
    <span class="n">zoned_time</span><span class="p">(</span><span class="n">string_view</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">sys_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">st</span><span class="p">);</span>

    <span class="n">zoned_time</span><span class="p">(</span><span class="n">TimeZonePtr</span> <span class="n">z</span><span class="p">,</span>    <span class="k">const</span> <span class="n">local_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">tp</span><span class="p">);</span>
    <span class="n">zoned_time</span><span class="p">(</span><span class="n">string_view</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">local_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">tp</span><span class="p">);</span>
    <span class="n">zoned_time</span><span class="p">(</span><span class="n">TimeZonePtr</span> <span class="n">z</span><span class="p">,</span>    <span class="k">const</span> <span class="n">local_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">tp</span><span class="p">,</span> <span class="n">choose</span> <span class="n">c</span><span class="p">);</span>
    <span class="n">zoned_time</span><span class="p">(</span><span class="n">string_view</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">local_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">tp</span><span class="p">,</span> <span class="n">choose</span> <span class="n">c</span><span class="p">);</span>

    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration2</span><span class="p">,</span> <span class="k">class</span> <span class="nc">TimeZonePtr2</span><span class="o">&gt;</span>
        <span class="n">zoned_time</span><span class="p">(</span><span class="n">TimeZonePtr</span> <span class="n">z</span><span class="p">,</span> <span class="k">const</span> <span class="n">zoned_time</span><span class="o">&lt;</span><span class="n">Duration2</span><span class="p">,</span> <span class="n">TimeZonePtr2</span><span class="o">&gt;&amp;</span> <span class="n">zt</span><span class="p">);</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Duration2</span><span class="p">,</span> <span class="k">class</span> <span class="nc">TimeZonePtr2</span><span class="o">&gt;</span>
        <span class="n">zoned_time</span><span class="p">(</span><span class="n">TimeZonePtr</span> <span class="n">z</span><span class="p">,</span> <span class="k">const</span> <span class="n">zoned_time</span><span class="o">&lt;</span><span class="n">Duration2</span><span class="p">,</span> <span class="n">TimeZonePtr2</span><span class="o">&gt;&amp;</span> <span class="n">zt</span><span class="p">,</span> <span class="n">choose</span><span class="p">);</span>

    <span class="n">zoned_time</span><span class="p">(</span><span class="n">string_view</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">zoned_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">zt</span><span class="p">);</span>
    <span class="n">zoned_time</span><span class="p">(</span><span class="n">string_view</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">zoned_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">zt</span><span class="p">,</span> <span class="n">choose</span><span class="p">);</span>

    <span class="n">zoned_time</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">sys_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">st</span><span class="p">);</span>
    <span class="n">zoned_time</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">local_time</span><span class="o">&lt;</span><span class="n">Duration</span><span class="o">&gt;&amp;</span> <span class="n">ut</span><span class="p">);</span>

             <span class="k">operator</span> <span class="n">sys_time</span><span class="o">&lt;</span><span class="n">duration</span><span class="o">&gt;</span><span class="p">()</span>   <span class="k">const</span><span class="p">;</span>
    <span class="k">explicit</span> <span class="k">operator</span> <span class="n">local_time</span><span class="o">&lt;</span><span class="n">duration</span><span class="o">&gt;</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="n">TimeZonePtr</span>          <span class="nf">get_time_zone</span><span class="p">()</span>  <span class="k">const</span><span class="p">;</span>
    <span class="n">local_time</span><span class="o">&lt;</span><span class="n">duration</span><span class="o">&gt;</span> <span class="n">get_local_time</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
    <span class="n">sys_time</span><span class="o">&lt;</span><span class="n">duration</span><span class="o">&gt;</span>   <span class="n">get_sys_time</span><span class="p">()</span>   <span class="k">const</span><span class="p">;</span>
    <span class="n">sys_info</span>             <span class="nf">get_info</span><span class="p">()</span>       <span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>


</div>

<ul>
<li>invariant ãª<code>zoned_time&lt;Duration&gt;</code>ã¯å¸¸ã«æœ‰åŠ¹ãª<code>time_zone</code>ã‚’å‚ç…§ã—,&nbsp;æ›–æ˜§ã§ãªã„æ™‚é–“ã‚’è¡¨ã™.</li>
<li>ãƒ‡ãƒ•ã‚©ãƒ«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯, <code>zone_</code>ã‚’<code>zoned_traits::default_zone()</code>ã§åˆæœŸåŒ–ã—, <code>tp_</code>ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ§‹ç¯‰ã—ã¦<code>zoned_time</code>ã‚’æ§‹ç¯‰ã™ã‚‹.</li>
<li>ã‚³ãƒ”ãƒ¼ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯, é–¢é€£ã™ã‚‹<code>time_zone</code>ã‚’è»¢é€ã™ã‚‹. <code>Duration</code>ãŒ<code>noexcept</code>ã‚³ãƒ”ãƒ¼ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã‚ã‚‹å ´åˆ, <code>zoned_time&lt;Duration&gt;</code>ã¯<code>noexcept</code>ã‚³ãƒ”ãƒ¼ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã‚ã‚‹.</li>
<li><code>zoned_time(const sys_time&lt;Duration&gt;&amp; st)</code>: <code>zone_</code>ã‚’<code>zoned_traits::default_zone</code>ã§åˆæœŸåŒ–ã—, <code>tp_</code>ã‚’<code>st</code>ã§åˆæœŸåŒ–ã—ã¦<code>zoned_time</code>ã‚’æ§‹ç¯‰ã™ã‚‹.</li>
<li><code>zoned_time(TimeZonePtr z)</code>: <code>std::move(z)</code>ã§<code>zone_</code>ã‚’åˆæœŸåŒ–ã—, <code>zoned_time</code>ã‚’æ§‹ç¯‰ã™ã‚‹. ã“ã®ã¨ã, <code>z</code>ã¯æœ‰åŠ¹ãª<code>time_zone</code>ã‚’æŒ‡ã—ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„.</li>
<li><code>zoned_time(string_view name)</code>: <code>zoned_traits::locate_zone(name)</code>ã§<code>zone_</code>ã‚’åˆæœŸåŒ–ã—, <code>tp_</code>ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ§‹ç¯‰ã—ã¦<code>zoned_time</code>ã‚’æ§‹ç¯‰ã™ã‚‹.</li>
<li><code>zoned_time(const zoned_time&lt;Duration2, TimeZonePtr&gt;&amp; y) noexcept</code>: <code>x == y</code>ã¨ãªã‚‹<code>zoned_time</code>, <code>x</code>ã‚’æ§‹ç¯‰ã™ã‚‹.</li>
<li><code>zoned_time(TimeZonePtr z, const sys_time&lt;Duration&gt;&amp; st)</code>: <code>zone_</code>ã‚’<code>std::move(z)</code>ã§åˆæœŸåŒ–ã—, <code>tp_</code>ã‚’<code>st</code>ã§åˆæœŸåŒ–ã—ã¦<code>zoned_time</code>ã‚’æ§‹ç¯‰ã™ã‚‹. ã“ã®ã¨ã, <code>z</code>ã¯æœ‰åŠ¹ãª<code>time_zone</code>ã‚’æŒ‡ã—ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„.</li>
<li><code>zoned_time(string_view name, const sys_time&lt;Duration&gt;&amp; st)</code>: <code>{zoned_traits&lt;TimeZonePtr&gt;::locate_zone(name), st}</code>ã¨åŒç­‰ã®æ§‹ç¯‰ã‚’è¡Œã†.</li>
<li><code>zoned_time(TimeZonePtr z, const local_time&lt;Duration&gt;&amp; tp)</code>: <code>zone_</code>ã‚’<code>std::move(z)</code>ã§åˆæœŸåŒ–ã—, <code>tp_</code>ã‚’<code>zone_-&gt;to_sys(t)</code>ã§åˆæœŸåŒ–ã—ã¦<code>zoned_time</code>ã‚’æ§‹ç¯‰ã™ã‚‹. ã“ã®ã¨ã, <code>z</code>ã¯æœ‰åŠ¹ãª<code>time_zone</code>ã‚’æŒ‡ã—ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„.</li>
<li><code>zoned_time(string_view name, const local_time&lt;Duration&gt;&amp; tp)</code>: <code>{zoned_traits&lt;TimeZonePtr&gt;::locate_zone(name), tp}</code>ã¨åŒç­‰ã®æ§‹ç¯‰ã‚’è¡Œã†.</li>
<li><code>zoned_time(TimeZonePtr z, const local_time&lt;Duration&gt;&amp; tp, choose c)</code>:  <code>zoned_</code>ã‚’<code>std::moev(z)</code>ã§åˆæœŸåŒ–ã—, <code>tp</code>ã‚’<code>zone_-&gt;to_sys(t, c)</code>ã§åˆæœŸåŒ–ã—ã¦<code>zoned_time</code>ã‚’æ§‹ç¯‰ã™ã‚‹. ã“ã®ã¨ã, <code>z</code>ã¯æœ‰åŠ¹ãª<code>time_zone</code>ã‚’æŒ‡ã—ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„.</li>
<li><code>zoned_time(string_view name, const local_time&lt;Duration&gt;&amp; tp, choose c)</code>: <code>{zoned_traits&lt;TimeZonePtr&gt;::locate_zone(name), tp, c}</code>ã¨åŒç­‰ã®æ§‹ç¯‰ã‚’è¡Œã†.</li>
<li><code>zoned_time(TimeZonePtr z, const zoned_time&lt;Duration2, TimeZonePtr2&gt;&amp; y)</code>: <code>zone_</code>ã‚’<code>std::move(z)</code>ã§åˆæœŸåŒ–ã—, <code>tp_</code>ã‚’<code>z.tp_</code>ã§åˆæœŸåŒ–ã—ã¦<code>zoned_time</code>ã‚’æ§‹ç¯‰ã™ã‚‹. ã“ã®ã¨ã, <code>z</code>ã¯æœ‰åŠ¹ãª<code>time_zone</code>ã‚’æŒ‡ã—ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„.</li>
<li><code>zoned_time(TimeZonePtr z, const zoned_time&lt;Duration2, TimeZonePtr2&gt;&amp; y, choose)</code>: <code>{z, y}</code>ã¨åŒç­‰ã®æ§‹ç¯‰ã‚’è¡Œã†. ã“ã®ã¨ã, <code>z</code>ã¯æœ‰åŠ¹ãª<code>time_zone</code>ã‚’æŒ‡ã—ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„. <code>choose</code>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã‚‹ãŒ,&nbsp;ã“ã‚Œã«ã‚ˆã£ã¦æŒ™å‹•ãŒå¤‰ã‚ã‚‹ã“ã¨ã¯ãªã„.</li>
<li><code>zoned_time(string_view name, const zoned_time&lt;Duration&gt;&amp; y)</code>: <code>{zoned_traits&lt;TimeZonePtr&gt;::locate_zone(name), y}</code>ã¨åŒç­‰ã®æ§‹ç¯‰ã‚’è¡Œã†.</li>
<li><code>zoned_time(string_view name, const zoned_time&lt;Duration&gt;&amp; y, choose c)</code>: <code>{locate_zone(name), y, c}</code>ã¨åŒç­‰ã®æ§‹ç¯‰ã‚’è¡Œã†. <code>choose</code>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã‚‹ãŒ,&nbsp;ã“ã‚Œã«ã‚ˆã£ã¦æŒ™å‹•ãŒå¤‰ã‚ã‚‹ã“ã¨ã¯ãªã„.</li>
<li><code>operator=(const local_time&lt;Duration&gt;&amp; lt)</code>: ä»£å…¥å¾Œ, <code>get_local_time() == lt</code>ã¨ãªã‚‹ã‚ˆã†ä»£å…¥ã—<code>*this</code>ã‚’è¿”ã™. ã“ã®ä»£å…¥ã¯, <code>get_time_zone</code>ã®æˆ»ã‚Šå€¤ã«ã¯å½±éŸ¿ã—ãªã„.</li>
<li><code>operator sys_time&lt;duration&gt;() const</code>: <code>get_sys_time()</code>ã‚’è¿”ã™.</li>
<li><code>operator local_time&lt;duration&gt;() const</code>: <code>get_local_time()</code> ã‚’è¿”ã™.</li>
<li><code>get_time_zone</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, <code>zone_</code>ã®ãƒã‚¤ãƒ³ã‚¿ã‚’å–å¾—ã§ãã‚‹.</li>
<li><code>get_local_time</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, æ§‹ç¯‰æ™‚ã«è¨­å®šã•ã‚ŒãŸã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã§ã®<code>local_time</code>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã§ãã‚‹(<code>retunr zone_-&gt;to_local(tp_);</code>).</li>
<li><code>get_sys_time</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, æ§‹ç¯‰æ™‚ã«è¨­å®šã•ã‚ŒãŸã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã§ã®<code>sys_time</code>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã§ãã‚‹(<code>return tp_;</code>).</li>
<li><code>get_info</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, æ§‹ç¯‰æ™‚ã«è¨­å®šã•ã‚ŒãŸã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã§ã®<code>sys_info</code>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã§ãã‚‹(<code>return zone_-&gt;get_info(tp_);</code>).</li>
</ul>
<p>åŒãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ©ç”¨ã—ã¦, ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ã«, ã‚ã‚‹æ—¥æ™‚ã®æ±äº¬ã®æ™‚é–“å¸¯ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹<sup id="fnref-5"><a class="footnote-ref" href="#fn-5">5</a></sup>.</p>
<div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">tp1</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">sys_days</span><span class="p">{</span><span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">29</span><span class="n">d</span><span class="p">}</span> <span class="o">+</span> <span class="mi">7</span><span class="n">h</span> <span class="o">+</span> <span class="mi">30</span><span class="n">min</span> <span class="o">+</span> <span class="mi">6</span><span class="n">s</span> <span class="o">+</span> <span class="mi">153</span><span class="n">ms</span><span class="p">;</span> <span class="c1">// 2016-05-29 07:30:06.153 UTC</span>
<span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">zoned_time</span> <span class="n">zt1</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;Asia/Tokyo&quot;</span><span class="p">,</span> <span class="n">tp1</span><span class="p">};</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">zt1</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 2016-05-29 16:30:06.153 JST</span>

<span class="k">auto</span> <span class="n">tp2</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">local_days</span><span class="p">{</span><span class="mi">2016</span><span class="n">y</span><span class="o">/</span><span class="n">May</span><span class="o">/</span><span class="mi">29</span><span class="n">d</span><span class="p">}</span> <span class="o">+</span> <span class="mi">7</span><span class="n">h</span> <span class="o">+</span> <span class="mi">30</span><span class="n">min</span> <span class="o">+</span> <span class="mi">6</span><span class="n">s</span> <span class="o">+</span> <span class="mi">153</span><span class="n">ms</span><span class="p">;</span> <span class="c1">// 2016-05-29 07:30:06.153 JTC</span>
<span class="k">auto</span> <span class="n">zt2</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">zoned_time</span><span class="p">{</span><span class="s">&quot;Asia/Tokyo&quot;</span><span class="p">,</span> <span class="n">tp2</span><span class="p">};</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">zt</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 2016-05-29 07:30:06.153 JST</span>
</pre></div>


<p><code>leap</code>ã¯, ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–æ™‚ã«æ§‹ç¯‰ã•ã‚Œ, ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ ¼ç´ã•ã‚Œã‚‹ã‚¯ãƒ©ã‚¹ã§ã‚ã‚Š, ä¸»ã«é–ç§’ã‚’æ‰±ã†ã‚¯ãƒ©ã‚¹ã§ã‚ã‚‹. åŒã‚¯ãƒ©ã‚¹ã¯, <i>Strong ordering</i><sup id="fnref4-1"><a class="footnote-ref" href="#fn-1">1</a></sup>ã‚’æº€ãŸã™.
<em onclick="obj=document.getElementById('openclassleap').style; obj.display=(obj.display=='none')?'block':'none';">
<a style="font-style: normal; cursor:pointer;">æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã‚‹(ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹).</a>
</em>
<div id="openclassleap" style="display:none;clear:both;"></p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">leap</span>
<span class="p">{</span>
    <span class="n">sys_seconds</span> <span class="n">date_</span><span class="p">;</span>  <span class="c1">// exposition only</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">leap</span><span class="p">(</span><span class="k">const</span> <span class="n">leap</span><span class="o">&amp;</span><span class="p">)</span>            <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
    <span class="n">leap</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">leap</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>

    <span class="c1">// Undocumented constructors</span>
    <span class="n">sys_seconds</span> <span class="nf">date</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>


</div>

<ul>
<li><code>date</code>ãƒ¡ãƒ³ãƒé–¢æ•°ã«ã‚ˆã£ã¦, <code>date_</code>ã‚’å–å¾—ã§ãã‚‹. <code>date_</code>ã«ã¯é–ç§’æŒ¿å…¥ã®æ—¥ä»˜ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹.</li>
<li>é–ç§’æŒ¿å…¥ã®å…¨ã¦ã®æ—¥ä»˜ã‚’<code>for (auto&amp; l : get_tzdb().leaps) std::cout &lt;&lt; l.date() &lt;&lt; '\n';</code>ã§ç¢ºèªã§ãã‚‹.</li>
</ul>
<p>ã¾ãŸã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ§‹ç¯‰æ™‚ã«ä½œæˆã•ã‚Œã‚‹, <code>time_zone</code>ã®ä»£æ›¿åã‚’è¡¨ç¾ã™ã‚‹<code>link</code>ã¨ã„ã†ã‚¯ãƒ©ã‚¹ã‚‚æä¾›ã•ã‚Œã‚‹.</p>
<h3>Clock</h3>
<p>æ–°ãŸã« <code>utc_clock</code>, <code>tai_clock</code>, <code>gps_clock</code>, <code>file_clock</code> ã® 4 ã¤ã®ã‚¯ãƒ­ãƒƒã‚¯, 
ã¾ãŸ, ãã®<code>time_point</code>å‹ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹(<code>utc_time</code>, <code>utc_seconds</code>, <code>tai_time</code>, <code>tai_seconds</code>, <code>gps_time</code>, <code>gps_seconds</code>)&nbsp;ãŒæä¾›ã•ã‚Œã‚‹.</p>
<ul>
<li><code>utc_clock</code> ã¯, å”å®šä¸–ç•Œæ™‚(<span class="caps">UTC</span>)ã‚’è¡¨ç¾ã™ã‚‹ã‚¯ãƒ­ãƒƒã‚¯ã§ã‚ã‚Š, 1970 å¹´ 1 æœˆ 1 æ—¥æœ¨æ›œæ—¥åˆå¾Œ 00:00:00 åˆ†ã‹ã‚‰ã®æ™‚é–“ã‚’æ¸¬å®šã™ã‚‹. ã“ã‚Œã«ã¯,&nbsp;é–ç§’ãŒå«ã¾ã‚Œã‚‹.</li>
<li><code>tai_clock</code>ã¯, å›½éš›åŸå§‹æ™‚è¨ˆ(<span class="caps">TAI</span>)ã‚’è¡¨ç¾ã™ã‚‹ã‚¯ãƒ­ãƒƒã‚¯ã§ã‚ã‚Š, 1958 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 ã‹ã‚‰ã®æ™‚é–“ã‚’æ¸¬å®šã—, ã“ã®æ—¥ã® <span class="caps">UTC</span>(1957-12-31 23:59:50 <span class="caps">UTC</span>)ã‚ˆã‚Šã‚‚ 10 ç§’å‰ã«ã‚ªãƒ•ã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹. ã“ã‚Œã«ã¯, é–ç§’ãŒå«ã¾ã‚Œãªã„<sup id="fnref-9"><a class="footnote-ref" href="#fn-9">9</a></sup>.</li>
<li><code>gps_clock</code>ã¯ <span class="caps">GPS</span> æ™‚åˆ»ã‚’è¡¨ç¾ã™ã‚‹ã‚¯ãƒ­ãƒƒã‚¯ã§ã‚ã‚Š, <span class="caps">UTC</span> 1980 å¹´ 1 æœˆ 6 æ—¥ 00:00:00 ã‹ã‚‰ã®æ™‚é–“ã‚’æ¸¬å®šã™ã‚‹. é–ç§’ã¯å«ã¾ã‚Œãªã„<sup id="fnref-10"><a class="footnote-ref" href="#fn-10">10</a></sup>.</li>
<li><code>file_clock</code>ã¯, C++20 ã§è¿½åŠ ã•ã‚ŒãŸã‚¨ã‚¤ãƒªã‚¢ã‚¹, <code>using file_time_type = std::chrono::time_point&lt;std::chrono::file_clock&gt;;</code>ã§åˆ©ç”¨ã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚¯ãƒ­ãƒƒã‚¯ã§ã‚ã‚‹<sup id="fnref-11"><a class="footnote-ref" href="#fn-11">11</a></sup>.</li>
</ul>
<h3>è©¦ç”¨</h3>
<p>åŒãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ©ç”¨ã—ãŸä»»æ„æœˆã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’å‡ºåŠ›ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯, <a href="http://d.hatena.ne.jp/yohhoy/20180322/p1">æ—¢ã«ã‚ã£ãŸ</a>ã®ã ãŒ, ç‰¹åˆ¥ä½•ã‹åˆ¥ã®ã‚‚ã®ã¯æ€ã„ã¤ã‹ãªã„ã®ã§,
ã¨ã‚Šã‚ãˆãš,&nbsp;ä»»æ„å¹´ã®å…¨ã¦ã®æœˆã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’å‡ºåŠ›ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ã„ã¦è©¦ç”¨.</p>
<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;array&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;chrono&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iomanip&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;utility&gt;</span><span class="cp"></span>

<span class="k">namespace</span> <span class="n">ns</span> <span class="p">{</span>

<span class="k">template</span> <span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="k">struct</span> <span class="n">weeks_init</span><span class="p">;</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span><span class="p">...</span> <span class="n">s</span><span class="o">&gt;</span>
<span class="k">struct</span> <span class="n">weeks_init</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">index_sequence</span><span class="o">&lt;</span><span class="n">s</span><span class="p">...</span><span class="o">&gt;&gt;</span> <span class="p">{</span>
    <span class="k">constexpr</span> <span class="n">weeks_init</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
    <span class="k">constexpr</span> <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">weekday</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">...(</span><span class="n">s</span><span class="p">)</span><span class="o">&gt;</span> <span class="k">operator</span><span class="p">()()</span> <span class="k">const</span> <span class="k">noexcept</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{{</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">weekday</span><span class="p">{</span><span class="n">s</span><span class="p">}...</span> <span class="p">}};</span> <span class="p">}</span>
<span class="p">};</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">weeks</span> <span class="o">=</span> <span class="n">weeks_init</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">make_index_sequence</span><span class="o">&lt;</span><span class="mi">7</span><span class="o">&gt;&gt;</span><span class="p">()();</span>

<span class="kr">inline</span> <span class="kt">void</span> <span class="nf">print_weeks</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span> <span class="n">os</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">namespace</span> <span class="n">sc</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">copy</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">begin</span><span class="p">(</span><span class="n">weeks</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">end</span><span class="p">(</span><span class="n">weeks</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">ostream_iterator</span><span class="o">&lt;</span><span class="n">sc</span><span class="o">::</span><span class="n">weekday</span><span class="o">&gt;</span><span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="s">&quot;  &quot;</span><span class="p">));</span>
    <span class="n">os</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">}</span> <span class="c1">// namespace ns</span>

<span class="k">struct</span> <span class="n">print_calendar_year</span> <span class="p">{</span>
    <span class="k">explicit</span> <span class="k">constexpr</span> <span class="n">print_calendar_year</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year</span> <span class="n">y</span><span class="p">)</span> <span class="k">noexcept</span>
        <span class="o">:</span> <span class="n">y_</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="p">{}</span>

    <span class="k">friend</span> <span class="n">std</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span> <span class="n">os</span><span class="p">,</span> <span class="k">const</span> <span class="n">print_calendar_year</span><span class="o">&amp;</span> <span class="n">this_</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono_literals</span><span class="p">;</span>
        <span class="k">namespace</span> <span class="n">sc</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="p">;</span>
        <span class="k">constexpr</span> <span class="kt">int</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1u</span><span class="p">,</span> <span class="n">uweek</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span><span class="p">(</span><span class="n">sc</span><span class="o">::</span><span class="n">weekday</span><span class="p">{</span><span class="n">sc</span><span class="o">::</span><span class="n">sys_days</span><span class="p">{</span><span class="n">this_</span><span class="p">.</span><span class="n">y_</span><span class="o">/</span><span class="n">sc</span><span class="o">::</span><span class="n">January</span><span class="o">/</span><span class="mi">1</span><span class="n">d</span><span class="p">}});</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">12u</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">auto</span> <span class="n">lastday</span> <span class="o">=</span> <span class="p">(</span><span class="n">this_</span><span class="p">.</span><span class="n">y_</span><span class="o">/</span><span class="n">sc</span><span class="o">::</span><span class="n">month</span><span class="p">{</span><span class="n">i</span><span class="p">}</span><span class="o">/</span><span class="n">sc</span><span class="o">::</span><span class="n">last</span><span class="p">).</span><span class="n">day</span><span class="p">();</span>
            <span class="n">os</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="n">ns</span><span class="o">::</span><span class="n">weeks</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">*</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">sc</span><span class="o">::</span><span class="n">month</span><span class="p">{</span><span class="n">i</span><span class="p">}</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
            <span class="n">ns</span><span class="o">::</span><span class="n">print_weeks</span><span class="p">(</span><span class="n">os</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="n">width</span><span class="p">));</span>

            <span class="kt">unsigned</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">uweek</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="n">os</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="n">width</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">sc</span><span class="o">::</span><span class="n">day</span> <span class="n">d</span><span class="p">{</span><span class="mi">1</span><span class="p">};</span> <span class="n">d</span> <span class="o">&lt;=</span> <span class="n">lastday</span><span class="p">;</span> <span class="o">++</span><span class="n">d</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">os</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="n">width</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">++</span><span class="n">k</span> <span class="o">&gt;</span> <span class="mi">6</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                    <span class="n">os</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="n">os</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
            <span class="n">uweek</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">os</span><span class="p">;</span>
    <span class="p">}</span>
<span class="k">private</span><span class="o">:</span>
    <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year</span> <span class="n">y_</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">print_calendar_year</span><span class="p">{</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">year</span><span class="p">{</span><span class="mi">2000</span><span class="p">}}</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p><a href="https://wandbox.org/permlink/qdkXXRJFNGPTdDg2">å®Ÿè¡Œçµæœ</a>. <br></p>
<p>ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã«é–¢ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã¯, <a href="https://howardhinnant.github.io/date/tz.html">å…ƒã®å®Ÿè£…ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã§å¤šãå–ã‚Šä¸Šã’ã‚‰ã‚Œã¦ã„ã‚‹. ãƒ•ãƒ©ã‚¤ãƒˆã‚¿ã‚¤ãƒ ã®è¨ˆç®—ã‚„, <span class="caps">IANA</span>&nbsp;ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã—ãªã„ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’ä½œæˆã™ã‚‹ä¾‹ãªã©ãŒæ²ç¤ºã•ã‚Œã¦ã„ã‚‹.</p>
<h3>æ„Ÿæƒ³</h3>
<ul>
<li>ã¨ã¦ã‚‚ã‚ˆãä½œã‚Šè¾¼ã¾ã‚Œã¦ã„ã¦,&nbsp;ä½¿ã„ã‚„ã™ãã†ã«æ„Ÿã˜ã‚‹. </li>
<li>C++ ã«ã“ã®ã‚ˆã†ãªé«˜ãƒ¬ãƒ™ãƒ« <span class="caps">API</span> ãŒå°å…¥ã•ã‚Œã‚‹ã®ã¯,&nbsp;å°‘ã—æ–°é®®.</li>
</ul>
<div class="footnote">
<hr>
<ol>
<li id="fn-1">
<p>ã“ã®ä¸€ã¤å‰ã® <span class="caps">ISO</span> C++ å§”å“¡ä¼šã«ã‚ˆã‚‹å›½éš›ä¼šè­°ã§ C++20 ã«è¿½åŠ ã•ã‚ŒãŸ <a href="http://open-std.org/JTC1/SC22/WG21/docs/papers/2017/p0515r2.pdf">P0515 Consistent comparison</a> ã§æŒ™ã’ã‚‰ã‚Œã¦ã„ã‚‹ comparison category types ã§ã®å‘¼ç§°ã‚’ç”¨ã„ã¦ã„ã‚‹. å‚ç…§: <a href="https://roki.hateblo.jp/entry/2017/11/27/Consistent/three-way_comparison">Consistent/three-way comparison</a>&#160;<a class="footnote-backref" href="#fnref-1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2-1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3-1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref4-1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref5-1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn-2">
<p>ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‹ã¨ãã®é–¢ä¿‚æ€§ã‚’ç¤ºã—ãŸ<a href="https://howardhinnant.github.io/date/tz_types.jpeg">å›³</a>ã‚’, ä½œè€…ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã‹ã‚‰è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹.&#160;<a class="footnote-backref" href="#fnref-2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn-3">
<p><a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">List of tz database time zones</a>&#160;<a class="footnote-backref" href="#fnref-3" title="Jump back to footnote 3 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2-3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn-4">
<p><a href="https://github.com/HowardHinnant/date">å…ƒã®å®Ÿè£…</a>ã‚’è¦‹ã‚‹ã¨, ç¾åœ¨åœ°ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å–å¾—ã«ãŠã„ã¦ã¯, <a href="https://github.com/HowardHinnant/date/blob/38c5ca38bb73b292b72e088c31595add564d31f6/src/tz.cpp#L321-L372">Linux ãŠã‚ˆã³ Mac ã§ã¯ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«(/usr/share/zoneinfo, /usr/share/zoneinfo/uclibc) ã‚’èª­ã¿è¾¼ã¿</a>, <a href="https://github.com/HowardHinnant/date/blob/38c5ca38bb73b292b72e088c31595add564d31f6/src/tz.cpp#L3615-L3631">Windows ã§ã¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒªå€¤ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã‚‹</a>. ãƒ¬ã‚¸ã‚¹ãƒˆãƒªå€¤ã‹ã‚‰å–å¾—ã•ã‚ŒãŸãƒã‚¤ãƒ†ã‚£ãƒ–ãªç¾åœ¨ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³åãŒæ¨™æº–ã®ã‚‚ã®ã¨ä¸€è‡´ã™ã‚‹ä¿è¨¼ã¯ãªã, ç‰¹ã« Windows ã®å ´åˆ, å¾—ã‚‰ã‚Œã‚‹åå‰ã¯å¿…ãšæ¨™æº–ã¨ç•°ãªã‚‹ã‚‚ã®ã§ã‚ã‚‹ãŸã‚, æ¨™æº–ã®åå‰ã¨é–¢é€£ã¥ã‘ã‚‹ãƒãƒƒãƒ”ãƒ³ã‚°ãŒè¡Œã‚ã‚Œã‚‹. å…ƒã®å®Ÿè£…ã§ã¯, Windows ã®å ´åˆã§ã¯ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å–å¾—ã®éš›ã«, <a href="http://unicode.org/repos/cldr/trunk/common/supplemental/windowsZones.xml">xml ãƒ•ã‚¡ã‚¤ãƒ«</a> ã‚’<a href="https://github.com/HowardHinnant/date/blob/38c5ca38bb73b292b72e088c31595add564d31f6/src/tz.cpp#L3263-L3271">å–å¾—ã—ã¦ã„ã‚‹</a>.&#160;<a class="footnote-backref" href="#fnref-4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn-5">
<p><a href="https://github.com/HowardHinnant/date">å…ƒã®å®Ÿè£…</a>ã‚’è¦‹ã‚‹ã¨, <span class="caps">OS</span> ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã›ãš, ãƒªãƒ¢ãƒ¼ãƒˆ <span class="caps">API</span> ãŒã‚ã‚‹ã¨ãã¯ <a href="https://github.com/HowardHinnant/date/blob/38c5ca38bb73b292b72e088c31595add564d31f6/src/tz.cpp#L3243-L3273"><span class="caps">OS</span> ä¾å­˜ã¾ãŸã¯ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£è£½ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ©ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—</a>ã—, ãã†ã§ãªã„ã¨ã <span class="caps">OS</span> ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹. <a href="https://github.com/HowardHinnant/date">å…ƒã®å®Ÿè£…</a>ã§ <span class="caps">OS</span> ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’è©¦ç”¨ã™ã‚‹éš›ã«ã¯, <code>DUSE_OS_TZDB=1</code>ã‚’ã‚»ãƒƒãƒˆã—ã¦ãƒ“ãƒ«ãƒ‰ã™ã‚‹. Windows ç’°å¢ƒãŒãªã„ã®ã§ç­†è€…ã«ã¯ã‚ã‹ã‚‰ãªã„ãŒ, <a href="https://github.com/HowardHinnant/date/blob/e7e1482087f58913b80a20b04d5c58d9d6d90155/CMakeLists.txt#L51">Windows ã§ã¯ <span class="caps">OS</span> ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã§ããªã„ã‚ˆã†ã </a>.&#160;<a class="footnote-backref" href="#fnref-5" title="Jump back to footnote 5 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2-5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn-6">
<p>ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ã®é–‹å§‹ã¨çµ‚äº†ã§, å­˜åœ¨ã—ãªã„ãƒ­ãƒ¼ã‚«ãƒ«æ™‚é–“(<code>nonexistent_local_time</code>)ã¨é‡è¤‡ã™ã‚‹ãƒ­ãƒ¼ã‚«ãƒ«æ™‚é–“(<code>ambiguous_local_time</code>)ã¨ã„ã†æ¦‚å¿µãŒç”Ÿã˜ã‚‹.&#160;<a class="footnote-backref" href="#fnref-6" title="Jump back to footnote 6 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2-6" title="Jump back to footnote 6 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3-6" title="Jump back to footnote 6 in the text">&#8617;</a><a class="footnote-backref" href="#fnref4-6" title="Jump back to footnote 6 in the text">&#8617;</a><a class="footnote-backref" href="#fnref5-6" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn-7">
<p>2016-11-06 01:30:00 <span class="caps">EDT</span> ã¯, 2016-11-06 05:30:00 <span class="caps">UTC</span> ã¨ 2016-11-06 06:30:00 <span class="caps">UTC</span>
 ã«ãªã‚Šã†ã‚‹. <code>try { auto zt = zoned_time{"America/New_York", local_days{Sunday[1]/November/2016} + 1h + 30min}; } catch (const ambiguous_local_time&amp;) { }</code>&#160;<a class="footnote-backref" href="#fnref-7" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
<li id="fn-8">
<p>2016-03-13 02:30:00 <span class="caps">EDT</span> ã¯, 2016-03-13 02:00:00 <span class="caps">EST</span> ã¨ 2016-03-13 03:00:00 <span class="caps">EDT</span> ã®é–“ã«ã‚ã‚‹ãŸã‚å­˜åœ¨ã—ãªã„. ã©ã¡ã‚‰ã‚‚, 2016-03-13 07:00:00 <span class="caps">UTC</span> ã¨ç­‰ä¾¡ã§ã‚ã‚‹. <code>try { auto zt = zoned_time{"America/New_York", local_days{Sunday[2]/March/2016} + 2h + 30min}; } catch (const noexistent_local_time&amp;) {}</code>&#160;<a class="footnote-backref" href="#fnref-8" title="Jump back to footnote 8 in the text">&#8617;</a></p>
</li>
<li id="fn-9">
<p>é–ç§’ãŒ <span class="caps">UTC</span> ã«æŒ¿å…¥ã•ã‚Œã‚‹åº¦ã«, <span class="caps">UTC</span> ã¯ <span class="caps">TAI</span> ã® 1 ç§’é…ã‚Œã¨ãªã‚‹. 1961 å¹´ç™ºç¥¥ã®æ—§ <span class="caps">UTC</span>, 1972 å¹´ã®ç‰¹åˆ¥èª¿æ•´, 1972 å¹´ã‹ã‚‰ 2017 å¹´ 1 æœˆã¾ã§è¡Œã‚ã‚ŒãŸ27 å›ã®é–ç§’èª¿æ•´ã®éç¨‹ã‚’è¸ã¿, <span class="caps">UTC</span> ã¯ç¾åœ¨ <span class="caps">TAI</span> ã«å¯¾ã—ã¦ 37 ç§’é…ã‚Œã¦ã„ã‚‹. å‚è€ƒ: <a href="http://jjy.nict.go.jp/mission/page1.html">http://jjy.nict.go.jp/mission/page1.html</a>&#160;<a class="footnote-backref" href="#fnref-9" title="Jump back to footnote 9 in the text">&#8617;</a></p>
</li>
<li id="fn-10">
<p><code>tai_clock</code>åŒæ§˜, <span class="caps">UTC</span> ã«é–ç§’ãŒæŒ¿å…¥ã•ã‚Œã‚‹ãŸã³ã« <span class="caps">UTC</span> ã® 1 ç§’å¾Œã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ã¨ãªã‚‹. 2017 å¹´æ™‚ç‚¹ã§, <span class="caps">UTC</span> ã¯ <span class="caps">GPS</span> ã® 18 ç§’å‰ ã«ã‚ã‚‹. ä½™è«‡: <a href="https://nyanchew.com/jp/gps%E3%81%AF%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E3%81%97%E3%81%A6%E3%81%86%E3%82%8B%E3%81%86%E7%A7%92%E3%82%92%E6%8C%BF%E5%85%A5%E3%81%99%E3%82%8B%E3%81%8B"><span class="caps">GPS</span> ãŒ <span class="caps">UTC</span> ã¨ã®å·®åˆ†ã‚’è¨ˆç®—ã™ã‚‹æ–¹æ³•ã«é–¢ã—ã¦</a>.&#160;<a class="footnote-backref" href="#fnref-10" title="Jump back to footnote 10 in the text">&#8617;</a></p>
</li>
<li id="fn-11">
<p><code>file_time_type</code>ã¯ C++17 æ™‚ç‚¹ã§æ—¢ã«ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨ã—ã¦è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ãŒ, <code>using file_time_type = std::chrono::time_point&lt;/*trivial-clock*/&gt;;</code>ã¨è¨˜ã•ã‚Œã¦ãŠã‚Š, å…·ä½“çš„ãªã‚¯ãƒ­ãƒƒã‚¯å‹ã¯æ˜è¨˜ã•ã‚Œã¦ã„ãªã‹ã£ãŸ.&#160;<a class="footnote-backref" href="#fnref-11" title="Jump back to footnote 11 in the text">&#8617;</a></p>
</li>
<li id="fn-12">
<p><a href="https://twitter.com/yohhoy/status/985830560013500416">yohhoy</a> ã•ã‚“ã«<code>last</code>ã®å±ã™ã‚‹åå‰ç©ºé–“ã«é–¢ã™ã‚‹è¿½åŠ æƒ…å ±ã‚’é ‚ã„ãŸ. ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™.&#160;<a class="footnote-backref" href="#fnref-12" title="Jump back to footnote 12 in the text">&#8617;</a></p>
</li>
</ol>
</div>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (true) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js','color.js','enclose.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: false," +
        "    messageStyle: 'None'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
      </div>
<!-- /.entry-content -->
      <footer class="post-info text-muted">
        <button type="button" class="btn btn-default">          
          <a href="../../../../../category/cpp.html"><div class="fa fa-lg fa-folder-open"></div> C++</a>
        </button>
        <button type="button" class="btn btn-default">
          <a href="../../../../../tag/cpp.html"><div class="fa fa-lg fa-tag"></div> C++</a>
        </button>
      </footer>
      <!-- /.post-info -->
    <!-- Comment BEGIN -->
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'roki-log';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <!-- Comment END -->
    </section>
    </div>
<footer class="footer">
      <div class="container">
          <p class="footer-text">&copy; <a href="../../../../..">roki.log</a> powered by 
          <a href="https://getpelican.com/">pelican</a> and 
          <a href="https://github.com/falgon/nikhil-theme">nikhil-theme (forked)</a><br>
              <small>  <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.ja"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.ja">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>, except where indicated otherwise.
</small>
            </p>
   </div>
</footer>    <script src="../../../../../theme/js/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-116653080-1', 'auto');
      ga('send', 'pageview');
       $('#myModal').modal({show: true});

    </script>
  </body>
</html>